
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="段杰文的个人网站">
      
      
        <meta name="author" content="段杰文">
      
      
        <link rel="canonical" href="https://DDWe11.github.io/BLOG/BigData/23fall_Bigdata/">
      
      
        <link rel="prev" href="../Linux_Centos/">
      
      
        <link rel="next" href="../../MachineLearning/d2l/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>大数据系统搭建与应用笔记 - DDWe11 Pages</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../mkdocs/css/no-footer.css">
    
      <link rel="stylesheet" href="../../../mkdocs/css/unordered-list-symbols.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="DDWe11 Pages" class="md-header__button md-logo" aria-label="DDWe11 Pages" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DDWe11 Pages
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              大数据系统搭建与应用笔记
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/DDWe11/DDWe11.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    DDWe11.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../LECTURE/" class="md-tabs__link">
          
  
  
    
  
  讲稿

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  博客

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../RESEARCH/" class="md-tabs__link">
          
  
  
    
  
  研究

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../SCHOOL/" class="md-tabs__link">
          
  
  
    
  
  学校相关

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../KAOYAN/" class="md-tabs__link">
          
  
  
    
  
  考研

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../REPRODUCE/" class="md-tabs__link">
          
  
  
    
  
  转载

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../DUAN/" class="md-tabs__link">
          
  
  
    
  
  DUAN

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../WEBSITE/" class="md-tabs__link">
          
  
  
    
  
  关于网站

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="DDWe11 Pages" class="md-nav__button md-logo" aria-label="DDWe11 Pages" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DDWe11 Pages
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/DDWe11/DDWe11.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    DDWe11.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../LECTURE/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    讲稿
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            讲稿
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Linux/linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Linux/commands-concise/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    命令行入门精简版
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Markdown
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Markdown
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Markdown/markdown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Markdown讲座
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Markdown/vscode-extension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VSCode及插件安装
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            Git
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Git/git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Git/git-demos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git例子
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Git/git-teamwork/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git合作
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Git/windows-install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Windows安装Git
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    在macOS上用VSCode写C++代码
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            在macOS上用VSCode写C++代码
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/0_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 介绍
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/1_%E5%89%8D%E8%A8%80%E5%92%8C%E8%AF%BE%E7%A8%8B%E8%AF%B4%E6%98%8E/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 前言和课程说明
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/2_%E8%AE%A4%E8%AF%86macOS%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 认识macOS的文件系统
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/3_%E8%AE%A4%E8%AF%86%E7%A8%8B%E5%BA%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 认识程序
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 认识终端和shell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 开启VSCode的大门
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/6_VSCode%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E8%87%AA%E5%8A%A8%E5%8C%96/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6 VSCode代码运行自动化
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7 用VSCode调试Cpp代码
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    博客
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            博客
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MacOS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            MacOS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MacOS/tree/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    macOS 使用 tree 命令和访达进行任务管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MacOS/zoom/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    macOS | 辅助功能 放大镜 Accessibility Zoom
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MacOS/mad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MAD production workflow on macOS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MacOS/stream/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mac 使用 OBS 直播
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mMcOS/intel-windows.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    None
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/vim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vim 学习笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/tmux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    tmux 使用指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/unix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Unix and Linux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/kernel-compile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux 内核编译尝试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/pi-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    树莓派入门指南
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Markdown
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Markdown
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Markdown/grammars/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Markdown 语法学习 精简版
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Markdown/mkdocs-site/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Publish a Website with Material for MkDocs and GitHub Pages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Markdown/mdbook-site/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Publish a Website with mdBook and GitHub Pages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Markdown/github-pages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GitHub Pages
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Github
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Github
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GitHub/mirror/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GitHub 镜像到 Gitee
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" checked>
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    大数据
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            大数据
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux_Centos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux CentOS 环境配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    大数据系统搭建与应用笔记
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    大数据系统搭建与应用笔记
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#part-1" class="md-nav__link">
    <span class="md-ellipsis">
      Part 1 系统搭建
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Part 1 系统搭建">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      前言
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-1" class="md-nav__link">
    <span class="md-ellipsis">
      Section 1 集群的搭建
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Section 1 集群的搭建">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 创建自己的集群
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 网络配置
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2 网络配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      机房主机
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pc" class="md-nav__link">
    <span class="md-ellipsis">
      PC虚拟机
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker 容器
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 地址映射主机名
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 节点SSH免密
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-2" class="md-nav__link">
    <span class="md-ellipsis">
      Section 2 软件安装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Section 2 软件安装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 相关工具的安装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.1 相关工具的安装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-net-tools" class="md-nav__link">
    <span class="md-ellipsis">
      (1) net-tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      (2) 时间同步
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-java" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Java
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-hadoop" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Hadoop
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hadoop-envsh" class="md-nav__link">
    <span class="md-ellipsis">
      hadoop-env.sh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      core-site.xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdfs-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      hdfs-site.xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapred-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      mapred-site.xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yarn-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      yarn-site.xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slaves" class="md-nav__link">
    <span class="md-ellipsis">
      slaves
    </span>
  </a>
  
    <nav class="md-nav" aria-label="slaves">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#24-spark" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Spark
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spark-envsh" class="md-nav__link">
    <span class="md-ellipsis">
      spark-env.sh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spark-defaultsconf" class="md-nav__link">
    <span class="md-ellipsis">
      Spark-defaults.conf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slavesworkers" class="md-nav__link">
    <span class="md-ellipsis">
      slaves/workers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="slaves/workers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#25-hadoop-spark" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 关于hadoop &amp; spark 部分指令冲突的解决方案
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-scala" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Scala
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27-anaconda" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 Anaconda
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-2" class="md-nav__link">
    <span class="md-ellipsis">
      Part 2 实践应用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Part 2 实践应用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#section1-pycharm" class="md-nav__link">
    <span class="md-ellipsis">
      Section1 Pycharm远程连接
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section2-spark1" class="md-nav__link">
    <span class="md-ellipsis">
      Section2 Spark案例1 词频统计
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    机器学习
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            机器学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MachineLearning/d2l/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    动手学深度学习 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MachineLearning/ddp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DDP 调研
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MachineLearning/ddp-note/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ddp-note.py
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MachineLearning/parallel-load/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    深度学习并行加载数据
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MachineLearning/speech-recognition/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Speech Recognition 学习笔记
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_8" >
        
          
          <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    OS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            OS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/fork-exec-spawn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    fork/exec/spawn 辨析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/fork-example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    fork 例
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_9" >
        
          
          <label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    计算机网络
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            计算机网络
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Network/learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算机网络 总结
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Network/nouns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算机网络 专有名词速查
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_10" >
        
          
          <label class="md-nav__link" for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    数学
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_10">
            <span class="md-nav__icon md-icon"></span>
            数学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Math/latex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LaTeX 常用符号整理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Math/linear/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    线性代数复习笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Math/taylor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    常用泰勒级数
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Math/max-pr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    最大似然估计
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Math/sympy-det/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sympy 库计算矩阵行列式
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../RESEARCH/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    研究
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            研究
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CG
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            CG
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../RESEARCH/CG/games101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GAMES101 Computer Graphics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../RESEARCH/CG/tiger-book/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fundamentals of Computer Graphics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../RESEARCH/CG/blender-donut/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blender Notes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../RESEARCH/CG/blender-manual/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blender 手册
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../RESEARCH/CG/games203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GAMES203 3D Reconstruction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../RESEARCH/CG/games105/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GAMES105 Character Animation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../RESEARCH/CG/format/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    常用的文件格式
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../RESEARCH/CG/format-usdz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    USDZ
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    GPU
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            GPU
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../RESEARCH/Gpu/gpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    上帝视角看 GPU 笔记
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../RESEARCH/Gpu/cuda/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GPU CUDA
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../SCHOOL/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    学校相关
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            学校相关
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    计算机英语
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            计算机英语
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SCHOOL/Professional_English/English/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算机专业英语笔记
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../KAOYAN/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    考研
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            考研
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../REPRODUCE/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    转载
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            转载
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../DUAN/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    DUAN
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            DUAN
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../WEBSITE/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    关于网站
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            关于网站
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../WEBSITE/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    介绍
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../WEBSITE/build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    网站构建说明
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../WEBSITE/help/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    文章编写帮助
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../WEBSITE/test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    测试文档
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#part-1" class="md-nav__link">
    <span class="md-ellipsis">
      Part 1 系统搭建
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Part 1 系统搭建">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      前言
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-1" class="md-nav__link">
    <span class="md-ellipsis">
      Section 1 集群的搭建
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Section 1 集群的搭建">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 创建自己的集群
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 网络配置
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2 网络配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      机房主机
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pc" class="md-nav__link">
    <span class="md-ellipsis">
      PC虚拟机
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker 容器
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 地址映射主机名
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 节点SSH免密
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-2" class="md-nav__link">
    <span class="md-ellipsis">
      Section 2 软件安装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Section 2 软件安装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 相关工具的安装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.1 相关工具的安装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-net-tools" class="md-nav__link">
    <span class="md-ellipsis">
      (1) net-tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      (2) 时间同步
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-java" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Java
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-hadoop" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Hadoop
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hadoop-envsh" class="md-nav__link">
    <span class="md-ellipsis">
      hadoop-env.sh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      core-site.xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdfs-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      hdfs-site.xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapred-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      mapred-site.xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yarn-sitexml" class="md-nav__link">
    <span class="md-ellipsis">
      yarn-site.xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slaves" class="md-nav__link">
    <span class="md-ellipsis">
      slaves
    </span>
  </a>
  
    <nav class="md-nav" aria-label="slaves">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#24-spark" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Spark
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spark-envsh" class="md-nav__link">
    <span class="md-ellipsis">
      spark-env.sh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spark-defaultsconf" class="md-nav__link">
    <span class="md-ellipsis">
      Spark-defaults.conf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slavesworkers" class="md-nav__link">
    <span class="md-ellipsis">
      slaves/workers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="slaves/workers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#25-hadoop-spark" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 关于hadoop &amp; spark 部分指令冲突的解决方案
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-scala" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Scala
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27-anaconda" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 Anaconda
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-2" class="md-nav__link">
    <span class="md-ellipsis">
      Part 2 实践应用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Part 2 实践应用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#section1-pycharm" class="md-nav__link">
    <span class="md-ellipsis">
      Section1 Pycharm远程连接
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section2-spark1" class="md-nav__link">
    <span class="md-ellipsis">
      Section2 Spark案例1 词频统计
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/DDWe11/DDWe11.github.io/edit/main/docs/BLOG/BigData/23fall_Bigdata.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="_1">大数据系统搭建与应用笔记<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<blockquote>
<p>2023fall 21级计算机与科学专业 大数据方向</p>
</blockquote>
<h2 id="part-1">Part 1 系统搭建<a class="headerlink" href="#part-1" title="Permanent link">&para;</a></h2>
<h3 id="_2">前言<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>​系统搭建部分，会简单介绍不同平台搭建大数据系统所需要的环境，包括（机房教室实体机、PC虚拟机、docker），目前用到的工具有：hadoop，spark，anaconda（后续会添加）；上学期大数据技术原理与应用这门课，目前在PC虚拟机中装有hadoop的环境，这里也会简单提到。</p>
<p>​在这个笔记中，工具安装在了<code>/usr/local/developers</code>中，编写的两个系统文件分别是<code>/etc/profile</code>和<code>～/.bashrc</code>，在配置过程中大家注意自己实际的安装路径</p>
<p>​使用mac系统的同学如果没有特别标注，则操作基本一致可以同样参考，如果是<code>arm</code>系列芯片的同学，需要相应的安装包或者遇到问题可以联系作者</p>
<h3 id="section-1">Section 1 集群的搭建<a class="headerlink" href="#section-1" title="Permanent link">&para;</a></h3>
<p>​在系统搭建中，依旧采用三台实体机/虚拟机/容器群组，在这个<code>Section</code>中会介绍如何搭建集群，包括集群创建、网络配置，主机映射、<code>SSH</code>免密。</p>
<table>
<thead>
<tr>
<th style="text-align: center;"></th>
<th style="text-align: center;">linux系统</th>
<th style="text-align: center;">版本</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">PC虚拟机</td>
<td style="text-align: center;">Cent OS</td>
<td style="text-align: center;">7</td>
</tr>
<tr>
<td style="text-align: center;">机房主机</td>
<td style="text-align: center;">Deepin</td>
<td style="text-align: center;">20.4</td>
</tr>
<tr>
<td style="text-align: center;">Docker 容器</td>
<td style="text-align: center;">Cent OS</td>
<td style="text-align: center;">latest（8）</td>
</tr>
</tbody>
</table>
<p>三台主机相应的角色：</p>
<p><img alt="结构" src="https://pic.imgdb.cn/item/653e16dbc458853aef51f1ff.png" /></p>
<h4 id="11">1.1 创建自己的集群<a class="headerlink" href="#11" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>机房主机</strong></li>
</ul>
<p>​机房主机是小组内的实体机，在课程中已经安装相应的<code>Linux</code>系统，不需要额外配置</p>
<ul>
<li><strong>PC虚拟机</strong></li>
</ul>
<p><strong>(1)单虚拟机的配置</strong></p>
<p>虚拟机软件使用的是VMware</p>
<p><img alt="Pic_1" src="../Midea_BD/Pictures_25.png" /></p>
<p><img alt="Pic_2" src="../Midea_BD/Pictures_26.png" /></p>
<p><img alt="Pic_3" src="../Midea_BD/Pictures_1.png" /></p>
<p><img alt="Pic_4" src="../Midea_BD/Pictures_2.png" /></p>
<p><img alt="Pic_5" src="../Midea_BD/Pictures_3.png" /></p>
<p><img alt="Pic_6" src="../Midea_BD/Pictures_4.png" /></p>
<p><img alt="Pic_7" src="../Midea_BD/Pictures_5.png" /></p>
<p><img alt="Pic_8" src="../Midea_BD/Pictures_6.png" /></p>
<p><img alt="Pic_9" src="../Midea_BD/Pictures_7.png" /></p>
<p><img alt="Pic_10" src="../Midea_BD/Pictures_8.png" /></p>
<p><img alt="Pic_11" src="../Midea_BD/Pictures_9.png" /></p>
<p><img alt="Pic_12" src="../Midea_BD/Pictures_10.png" /></p>
<p><img alt="Pic_13" src="../Midea_BD/Pictures_11.png" /></p>
<p><img alt="Pic_14" src="../Midea_BD/Pictures_12.png" /></p>
<p><img alt="Pic_15" src="../Midea_BD/Pictures_13.png" /></p>
<p><img alt="Pic_16" src="../Midea_BD/Pictures_14.png" /></p>
<p><img alt="Pci_17" src="../Midea_BD/Pictures_15.png" /></p>
<p><img alt="Pic_18" src="../Midea_BD/Pictures_16.png" /></p>
<p><img alt="Pic_19" src="../Midea_BD/Pictures_17.png" /></p>
<p><img alt="Pic_20" src="../Midea_BD/Pictures_18.png" /></p>
<p><img alt="Pic_21" src="../Midea_BD/Pictures_19.png" /></p>
<p><img alt="Pic_22" src="../Midea_BD/Pictures_20.png" /></p>
<p><img alt="Pic_23" src="../Midea_BD/Pictures_21.png" /></p>
<p><img alt="Pic_24" src="../Midea_BD/Pictures_22.png" /></p>
<p><img alt="Pic_25" src="../Midea_BD/Pictures_23.png" /></p>
<p><img alt="Pic_26" src="../Midea_BD/Pictures_24.png" /></p>
<p>​点击<code>reboot</code>后，虚拟机就创建完毕。为了操作上的简便，先使用这一台虚拟机进行<a href="#12-网络配置">网络配置</a>，同时进行<a href="#2-时间同步">时间同步</a></p>
<p><strong>(2)虚拟机克隆和配置</strong></p>
<p>​由于使用的是集群模式，需要多台节点，对此我们只需要 克隆刚刚配置好的hadoop1即可</p>
<p>​准备：关闭后，克隆虚拟机</p>
<p><img alt="Pic_27" src="../Midea_BD/Clone_1.png" /></p>
<p><img alt="Pic_28" src="../Midea_BD/Clone_2.png" /></p>
<p><img alt="Pic_29" src="../Midea_BD/Clone_3.png" /></p>
<p><img alt="Pic_30" src="../Midea_BD/Clone_4.png" /></p>
<p>按此操作克隆出两个虚拟机，克隆完毕，需要修改内存上限为（2G或1G）
  分别在hadoop2和hadoop3进行以下操作：</p>
<p><strong>(1) hadoop2</strong></p>
<p>修改网卡配置</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># vi /etc/sysconfig/network-scripts/ifcfg-ens33</span>

修改在hadoop1中添加的内容
<span class="nv">IPADDR</span><span class="o">=</span><span class="m">192</span>.168.91.101<span class="w"> </span>//hadoop1<span class="w"> </span>的用户号为100，hadoop2修改为101
<span class="nv">NETMASK</span><span class="o">=</span><span class="m">255</span>.255.255.0
<span class="nv">GATEWAY</span><span class="o">=</span><span class="m">192</span>.168.91.2
<span class="nv">DNS1</span><span class="o">=</span><span class="m">114</span>.114.114.114
<span class="nv">DNS2</span><span class="o">=</span><span class="m">8</span>.8.8.8
</code></pre></div>
<p>​修改主机名</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># vi /etc/hostname</span>
修改为hadoop2
</code></pre></div>
<p>​重启虚拟机</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># reboot</span>
</code></pre></div>
<p><strong>(2) hadoop3</strong></p>
<p>​操作与<code>hadoop2</code>一致，将IP地址中的用户号修改为102，主机名修改为<code>hadoop3</code>，即可</p>
<ul>
<li><strong>Docker 容器</strong></li>
</ul>
<p><strong>（1）搭建前工作</strong></p>
<p>安装docker直接按照教程安装即可,查看docker是否安装成功，有版本号即可</p>
<div class="highlight"><pre><span></span><code> ```shell
 (base) ➜  ~ docker -v
 Docker version 24.0.6, build ed223bc
 ```
</code></pre></div>
<p><strong>拉取镜像CentOS</strong></p>
<div class="highlight"><pre><span></span><code> 通过此命令拉取最新的centos8的镜像，使用`docker pull`命令默认是`latest`版本

 ```bash
 (base) ➜  ~ docker pull centos  
 ```

**启动centos容器**

 ```bash
 docker run -itd --name hadoop1 -p 2201:22 -p 8088:8088 -p 9000:9000 -p 50070:50070 -p 4040:4040 -p 7070:7070 -p 8080:8080 --privileged=true centos:latest /sbin/init
 ```

 &gt; 注意：
 &gt;
 &gt; -p:表示端口映射，这很重要，可以方便本机在外部访问web网页 需要设置容器和本机的相关端口映射,我们要为spark和hadoop预留出端口
 &gt; -i:表示运行的容器
 &gt; -t：表示容器启动后会进入其命令行。加入这两个参数后，容器创建就能登录进去。即分配一个伪终端。
 &gt; -d: 在run后面加上-d参数,则会创建一个守护式容器在后台运行（这样创建容器后不会自动登录容器，如果只加-i -t两个参数，创建后就会自动进去容器）。
 &gt; –name :为创建的容器命名。
 &gt; –privileged：为true时赋予容器内root用户真正的root权限，否则root为普通用户,默认为flase
 &gt; /sbin/init: 使容器启动后可以使用systemctl方法
</code></pre></div>
<ol>
<li>
<p><strong>容器配置</strong></p>
<p>通过如下命令进入容器,containerID也可以填容器的名称</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>containerID<span class="w"> </span>/bin/bash
例如：
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>hadoop/bin/bash
</code></pre></div>
</li>
<li>
<p><strong>更换yum源</strong></p>
<p>进入<code>yum</code>配置目录，<code>/etc/yum.repos.d</code></p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>/<span class="o">]</span><span class="c1"># cd /etc/yum.repos.d</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>yum.repos.d<span class="o">]</span><span class="c1"># ls</span>
CentOS-Linux-AppStream.repo<span class="w">      </span>CentOS-Linux-FastTrack.repo
CentOS-Linux-BaseOS.repo<span class="w">      </span>CentOS-Linux-HighAvailability.repo
CentOS-Linux-ContinuousRelease.repo<span class="w">  </span>CentOS-Linux-Media.repo
CentOS-Linux-Debuginfo.repo<span class="w">      </span>CentOS-Linux-Plus.repo
CentOS-Linux-Devel.repo<span class="w">       </span>CentOS-Linux-PowerTools.repo
CentOS-Linux-Extras.repo<span class="w">      </span>CentOS-Linux-Sources.repo
</code></pre></div>
<p><strong>修改以下文件</strong></p>
<p><strong>[1] CentOS-Linux-BaseOS.repo</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>baseos<span class="o">]</span>
<span class="nv">name</span><span class="o">=</span>CentOS<span class="w"> </span>Linux<span class="w"> </span><span class="nv">$releasever</span><span class="w"> </span>-<span class="w"> </span>BaseOS
<span class="c1">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=BaseOS&amp;infra=$infra</span>
<span class="c1">#baseurl=http://mirror.centos.org/$contentdir/$releasever/BaseOS/$basearch/os/</span>
<span class="nv">baseurl</span><span class="o">=</span>https://vault.centos.org/centos/<span class="nv">$releasever</span>/BaseOS/<span class="nv">$basearch</span>/os/
<span class="nv">gpgcheck</span><span class="o">=</span><span class="m">1</span>
<span class="nv">enabled</span><span class="o">=</span><span class="m">1</span>
<span class="nv">gpgkey</span><span class="o">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial
</code></pre></div>
<p><strong>[2] CentOS-Linux-AppStream.repo</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>appstream<span class="o">]</span>
<span class="nv">name</span><span class="o">=</span>CentOS<span class="w"> </span>Linux<span class="w"> </span><span class="nv">$releasever</span><span class="w"> </span>-<span class="w"> </span>AppStream
<span class="c1">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=AppStream&amp;infra=$infra</span>
<span class="c1">#baseurl=http://mirror.centos.org/$contentdir/$releasever/AppStream/$basearch/os/</span>
<span class="nv">baseurl</span><span class="o">=</span>https://vault.centos.org/centos/<span class="nv">$releasever</span>/AppStream/<span class="nv">$basearch</span>/os/
<span class="nv">gpgcheck</span><span class="o">=</span><span class="m">1</span>
<span class="nv">enabled</span><span class="o">=</span><span class="m">1</span>
<span class="nv">gpgkey</span><span class="o">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial
</code></pre></div>
<p><strong>[3] CentOS-Linux-Extras.repo</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>extras<span class="o">]</span>
<span class="nv">name</span><span class="o">=</span>CentOS<span class="w"> </span>Linux<span class="w"> </span><span class="nv">$releasever</span><span class="w"> </span>-<span class="w"> </span>Extras
<span class="c1">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=extras&amp;infra=$infra</span>
<span class="c1">#baseurl=http://mirror.centos.org/$contentdir/$releasever/extras/$basearch/os/</span>
<span class="nv">baseurl</span><span class="o">=</span>https://mirrors.aliyun.com/centos/8-stream/extras/<span class="nv">$basearch</span>/os/
<span class="nv">gpgcheck</span><span class="o">=</span><span class="m">1</span>
<span class="nv">enabled</span><span class="o">=</span><span class="m">1</span>
<span class="nv">gpgkey</span><span class="o">=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial
</code></pre></div>
<p>配置完成后，使用<code>yum</code>命令下载软件，以<code>vim</code>示例</p>
<div class="highlight"><pre><span></span><code>yum<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>package-name
example：
yum<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>vim
</code></pre></div>
</li>
<li>
<p>安装Java环境，见Section 2 <a href="#22-java">软件安装部分</a></p>
</li>
<li>
<p><strong>创建集群需要的容器</strong></p>
<ul>
<li>将hadoop1导出到镜像，并利用该镜像创建两个相同容器</li>
</ul>
<p>导出镜像</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>commit<span class="w"> </span>hadoop1<span class="w"> </span>centos_bigdata
</code></pre></div>
<p>创建相同容器</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>-itd<span class="w"> </span>--name<span class="w"> </span>hadoop2<span class="w"> </span>-p<span class="w"> </span><span class="m">2202</span>:22<span class="w"> </span>-p<span class="w"> </span><span class="m">50090</span>:50090<span class="w"> </span>--privileged<span class="o">=</span><span class="nb">true</span><span class="w"> </span>centos_bigdata<span class="w"> </span>/sbin/init
docker<span class="w"> </span>run<span class="w"> </span>-itd<span class="w"> </span>--name<span class="w"> </span>hadoop3<span class="w"> </span>-p<span class="w"> </span><span class="m">2203</span>:22<span class="w"> </span>--privileged<span class="o">=</span><span class="nb">true</span><span class="w"> </span>centos_bigdata<span class="w"> </span>/sbin/init
</code></pre></div>
</li>
<li>
<p><strong>修改主机名</strong></p>
<p>创建的容器进入之后root之后@的是容器id,在容器内使用</p>
<div class="highlight"><pre><span></span><code>hostname<span class="w"> </span>hadoop1
</code></pre></div>
<p><code>hadoop2/3</code>同理，可以对其主机名进行修改，ctrl+p+q之后即可生效</p>
</li>
</ol>
<h4 id="12">1.2 网络配置<a class="headerlink" href="#12" title="Permanent link">&para;</a></h4>
<ul>
<li>
<h5 id="_3"><strong>机房主机</strong><a class="headerlink" href="#_3" title="Permanent link">&para;</a></h5>
</li>
</ul>
<p>相比于其他两种方案学校虚拟机中配置网络的方法，机房主机的配置更加简单，只需要在<code>设置 -&gt;网络</code>中选择<code>有线网卡</code>，将自动获取IPV4修改为手动，配置如下：</p>
<div class="highlight"><pre><span></span><code>IP地址<span class="w"> </span>：10.10.98.xxx<span class="w"> </span>（后面的用户号，填写老师分配好的ip地址）
子网掩码：255.255.255.0
网关：10.10.98.0
</code></pre></div>
<p>配置完毕后在终端输入：<code>ifconfig</code>或者<code>ip addr</code>查看是否修改成功</p>
<ul>
<li>
<h5 id="pc"><strong>PC虚拟机</strong><a class="headerlink" href="#pc" title="Permanent link">&para;</a></h5>
</li>
</ul>
<p>打开该虚拟机的虚拟网络编辑器：</p>
<p><img alt="Pic_31" src="../Midea_BD/Net1.png" /></p>
<p><img alt="Pic_32" src="../Midea_BD/Net2.png" /></p>
<p>可以得到以下信息</p>
<div class="highlight"><pre><span></span><code><span class="nv">IPADDR</span><span class="o">=</span><span class="m">192</span>.168.91.100<span class="w"> </span>//根据子网IP和子网掩码，点分十进制的第4部分的用户号可以自由填写
<span class="nv">NETMASK</span><span class="o">=</span><span class="m">255</span>.255.255.0
<span class="nv">GATEWAY</span><span class="o">=</span><span class="m">192</span>.168.91.2
<span class="nv">DNS1</span><span class="o">=</span><span class="m">114</span>.114.114.114
<span class="nv">DNS2</span><span class="o">=</span><span class="m">8</span>.8.8.8
</code></pre></div>
<p>配置一个固定的IP地址： 在linux操作系统中：所有的软件配置文件，都是以文件方式进行出现，也就意味着，配置一个固定ip地址需要一个网卡文件 使用以下命令</p>
<div class="highlight"><pre><span></span><code>vi<span class="w"> </span>/etc/sysconfig/network-scripts/ifcfg-ens33
</code></pre></div>
<p><img alt="Pic_33" src="../Midea_BD/Net3.png" /></p>
<p>! 注意：<strong>如果是ONBOOT = no 的话需要改成yes</strong>，在配置文件下面加入</p>
<div class="highlight"><pre><span></span><code><span class="err">IPADDR=</span><span class="mf">192.168.91.100</span>
<span class="err">NETMASK=</span><span class="mf">255.255.255.0</span>
<span class="err">GATEWAY=</span><span class="mf">192.168.91.2</span>
<span class="err">DNS</span><span class="mi">1</span><span class="err">=</span><span class="mf">114.114.114.114</span>
<span class="err">DNS</span><span class="mi">2</span><span class="err">=</span><span class="mf">8.8.8.8</span>
</code></pre></div>
<p>并且重启网络：</p>
<div class="highlight"><pre><span></span><code>service<span class="w"> </span>network<span class="w"> </span>restart
systemctl<span class="w"> </span>restart<span class="w"> </span>network.service
ip<span class="w"> </span>addr<span class="w">  </span>----查询ip地址
</code></pre></div>
<p><img alt="Pic_34" src="../Midea_BD/Net4.png" /></p>
<p>检测网络的是否连通：</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># ping www.baidu.com</span>
PING<span class="w"> </span>baidu.com<span class="w"> </span><span class="o">(</span><span class="m">39</span>.156.66.10<span class="o">)</span>:<span class="w"> </span><span class="m">56</span><span class="w"> </span>data<span class="w"> </span>bytes
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">39</span>.156.66.10:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">50</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">11</span>.398<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">39</span>.156.66.10:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">50</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">10</span>.643<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">39</span>.156.66.10:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">50</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">11</span>.293<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">39</span>.156.66.10:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">50</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">11</span>.336<span class="w"> </span>ms
^C
---<span class="w"> </span>baidu.com<span class="w"> </span>ping<span class="w"> </span>statistics<span class="w"> </span>---
<span class="m">15</span><span class="w"> </span>packets<span class="w"> </span>transmitted,<span class="w"> </span><span class="m">15</span><span class="w"> </span>packets<span class="w"> </span>received,<span class="w"> </span><span class="m">0</span>.0%<span class="w"> </span>packet<span class="w"> </span>loss
round-trip<span class="w"> </span>min/avg/max/stddev<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span>.568/11.211/11.865/0.511<span class="w"> </span>ms
</code></pre></div>
<p>使用netstat方式查看端口是否存在（先安装见..)：</p>
<p><img alt="Pic_35" src="../Midea_BD/Net5.png" /></p>
<p>发现端口22在使用，便可以使用<code>FinalShell</code>中进行连接</p>
<p><img alt="Pic_36" src="../Midea_BD/Net6.png" /></p>
<p><img alt="Pic_37" src="../Midea_BD/Net7.png" /></p>
<ul>
<li>
<h5 id="docker"><strong>Docker 容器</strong><a class="headerlink" href="#docker" title="Permanent link">&para;</a></h5>
</li>
<li>
<p>三台服务器统一网段</p>
<blockquote>
<p>安装hadoop需要保持服务器之间内网连通，而我们创建的三个容器：hadoop1、hadoop2、hadoop3；默认是放在bridge的网段的,默认是联通的，但是为了和其他不相关的容器区分开，建议还是创建一个新的网段让三台容器自己相连。在本机的终端使用该命令</p>
</blockquote>
<p>查看docker 存在的网段<code>docker network ls</code></p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span>➜<span class="w">  </span>Downloads<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>ls
NETWORK<span class="w"> </span>ID<span class="w">     </span>NAME<span class="w">      </span>DRIVER<span class="w">    </span>SCOPE
45c119b3d06f<span class="w">   </span>bridge<span class="w">    </span>bridge<span class="w">    </span><span class="nb">local</span>
952e0cf633a5<span class="w">   </span>host<span class="w">      </span>host<span class="w">      </span><span class="nb">local</span>
7feb1ec58fe2<span class="w">   </span>none<span class="w">      </span>null<span class="w">      </span><span class="nb">local</span>
</code></pre></div>
<p>创建名为bigdata的新网段</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>bigdata
</code></pre></div>
<p>三台容器连入bigdata网段</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>network<span class="w"> </span>connect<span class="w"> </span>bigdata<span class="w"> </span>hadoop1
docker<span class="w"> </span>network<span class="w"> </span>connect<span class="w"> </span>bigdata<span class="w"> </span>hadoop2
docker<span class="w"> </span>network<span class="w"> </span>connect<span class="w"> </span>bigdata<span class="w"> </span>hadoop3
</code></pre></div>
<p>断开三台容器与bridge的连接</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>network<span class="w"> </span>disconnect<span class="w"> </span>bridge<span class="w"> </span>hadoop1
docker<span class="w"> </span>network<span class="w"> </span>disconnect<span class="w"> </span>bridge<span class="w"> </span>hadoop2
docker<span class="w"> </span>network<span class="w"> </span>disconnect<span class="w"> </span>bridge<span class="w"> </span>hadoop3
</code></pre></div>
<p>最后查看bigdata内的网段：以及三台机器的ip地址<code>docker network inspect bigdata</code></p>
<div class="highlight"><pre><span></span><code><span class="err">(base)</span><span class="w"> </span><span class="err">➜</span><span class="w">  </span><span class="err">Dow</span><span class="kc">nl</span><span class="err">oads</span><span class="w"> </span><span class="err">docker</span><span class="w"> </span><span class="kc">net</span><span class="err">work</span><span class="w"> </span><span class="err">i</span><span class="kc">ns</span><span class="err">pec</span><span class="kc">t</span><span class="w"> </span><span class="err">bigda</span><span class="kc">ta</span>
<span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bigdata&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;Id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;febdc8770f4e6ec76d0d768f88a8aa2d25d069cb8324c7f9c364b17f3a0dd9f2&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;Created&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-10-18T15:01:21.631179494Z&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;Scope&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;local&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;Driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bridge&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;EnableIPv6&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;IPAM&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;Driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;Options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">            </span><span class="nt">&quot;Config&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;Subnet&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;172.19.0.0/16&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;Gateway&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;172.19.0.1&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;Internal&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;Attachable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;Ingress&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;ConfigFrom&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;Network&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;ConfigOnly&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;Containers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;2f35ec49c3c2bc21a00db355aa9feb87dcd615fbfcecae56e5561f1643755199&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hadoop1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;EndpointID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;60bdeba3dd3178e589ef354712972ffcea73e7816031394ea2f1ee81ac39bda3&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;MacAddress&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;02:42:ac:13:00:02&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;IPv4Address&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;172.19.0.2/16&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;IPv6Address&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;ad1cef819c3a0d364eca9e859a01599f03323f306abae87eb2f327b2e8e7656d&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hadoop3&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;EndpointID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;7b81a575161c774dc75036f4018352c1c733c517d27e014f5ae0681bfb7a74b8&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;MacAddress&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;02:42:ac:13:00:04&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;IPv4Address&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;172.19.0.4/16&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;IPv6Address&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;d5a77405dadb67a978014e0164318453a95cb40d11fa09558bd1bc7773748145&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hadoop2&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;EndpointID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3de1e2007ef806c5d1fabdada45c887ed204864058c1dd014e6493cdfbc14618&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;MacAddress&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;02:42:ac:13:00:03&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;IPv4Address&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;172.19.0.3/16&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;IPv6Address&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;Options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">        </span><span class="nt">&quot;Labels&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
<p><strong>注意：这就是三台容器的ip地址'"IPv4Address": "172.19.0.x/16"，因为docker的centos8的镜像是不带防火墙的，可以省去关闭防火墙步骤</strong></p>
</li>
</ul>
<h4 id="13">1.3 地址映射主机名<a class="headerlink" href="#13" title="Permanent link">&para;</a></h4>
<p>​由于三个场景使用的都是Linux，所以在这部分的操作都是相同的</p>
<ol>
<li>首先要知道每台主机的IP地址，以及它的hostname</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1">#查看hostname</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># hostname</span>
hadoop1
<span class="c1">#查看ip地址</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># ip addr</span>
<span class="m">1</span>:<span class="w"> </span>lo:<span class="w"> </span>&lt;LOOPBACK,UP,LOWER_UP&gt;<span class="w"> </span>mtu<span class="w"> </span><span class="m">65536</span><span class="w"> </span>qdisc<span class="w"> </span>noqueue<span class="w"> </span>state<span class="w"> </span>UNKNOWN<span class="w"> </span>group<span class="w"> </span>default<span class="w"> </span>qlen<span class="w"> </span><span class="m">1000</span>
<span class="w">    </span>link/loopback<span class="w"> </span><span class="m">00</span>:00:00:00:00:00<span class="w"> </span>brd<span class="w"> </span><span class="m">00</span>:00:00:00:00:00
<span class="w">    </span>inet<span class="w"> </span><span class="m">127</span>.0.0.1/8<span class="w"> </span>scope<span class="w"> </span>host<span class="w"> </span>lo
<span class="w">       </span>valid_lft<span class="w"> </span>forever<span class="w"> </span>preferred_lft<span class="w"> </span>forever
<span class="m">2</span>:<span class="w"> </span>tunl0@NONE:<span class="w"> </span>&lt;NOARP&gt;<span class="w"> </span>mtu<span class="w"> </span><span class="m">1480</span><span class="w"> </span>qdisc<span class="w"> </span>noop<span class="w"> </span>state<span class="w"> </span>DOWN<span class="w"> </span>group<span class="w"> </span>default<span class="w"> </span>qlen<span class="w"> </span><span class="m">1000</span>
<span class="w">    </span>link/ipip<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span>brd<span class="w"> </span><span class="m">0</span>.0.0.0
<span class="m">3</span>:<span class="w"> </span>ip6tnl0@NONE:<span class="w"> </span>&lt;NOARP&gt;<span class="w"> </span>mtu<span class="w"> </span><span class="m">1452</span><span class="w"> </span>qdisc<span class="w"> </span>noop<span class="w"> </span>state<span class="w"> </span>DOWN<span class="w"> </span>group<span class="w"> </span>default<span class="w"> </span>qlen<span class="w"> </span><span class="m">1000</span>
<span class="w">    </span>link/tunnel6<span class="w"> </span>::<span class="w"> </span>brd<span class="w"> </span>::<span class="w"> </span>permaddr<span class="w"> </span>ec9:c943:920e::
<span class="m">24</span>:<span class="w"> </span>eth0@if25:<span class="w"> </span>&lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;<span class="w"> </span>mtu<span class="w"> </span><span class="m">1500</span><span class="w"> </span>qdisc<span class="w"> </span>noqueue<span class="w"> </span>state<span class="w"> </span>UP<span class="w"> </span>group<span class="w"> </span>default
<span class="w">    </span>link/ether<span class="w"> </span><span class="m">02</span>:42:ac:13:00:02<span class="w"> </span>brd<span class="w"> </span>ff:ff:ff:ff:ff:ff<span class="w"> </span>link-netnsid<span class="w"> </span><span class="m">0</span>
<span class="w">    </span>inet<span class="w"> </span><span class="m">172</span>.19.0.2/16<span class="w"> </span>brd<span class="w"> </span><span class="m">172</span>.19.255.255<span class="w"> </span>scope<span class="w"> </span>global<span class="w"> </span>eth0
<span class="w">       </span>valid_lft<span class="w"> </span>forever<span class="w"> </span>preferred_lft<span class="w"> </span>forever
这个则是：inet<span class="w"> </span><span class="m">172</span>.19.0.2
</code></pre></div>
<ol>
<li>
<p>修改<code>/etc/host</code>文件，每台都要操作一次</p>
<div class="highlight"><pre><span></span><code>vim<span class="w"> </span>/etc/hosts
<span class="c1">#在文件后添加 三台机器的ip和主机名</span>
<span class="m">172</span>.19.0.2<span class="w">      </span>hadoop1
<span class="m">172</span>.19.0.3<span class="w">      </span>hadoop2
<span class="m">172</span>.19.0.4<span class="w">      </span>hadoop3
</code></pre></div>
</li>
<li>
<p>验证地址与主机名映射,使用<code>ping</code>命令得到以下结果</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># ping hadoop2</span>
PING<span class="w"> </span>hadoop2<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.3<span class="o">)</span><span class="w"> </span><span class="m">56</span><span class="o">(</span><span class="m">84</span><span class="o">)</span><span class="w"> </span>bytes<span class="w"> </span>of<span class="w"> </span>data.
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>hadoop2.bigdata<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.3<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">1</span>.29<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>hadoop2.bigdata<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.3<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.247<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>hadoop2.bigdata<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.3<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.377<span class="w"> </span>ms
^C
---<span class="w"> </span>hadoop2<span class="w"> </span>ping<span class="w"> </span>statistics<span class="w"> </span>---
<span class="m">3</span><span class="w"> </span>packets<span class="w"> </span>transmitted,<span class="w"> </span><span class="m">3</span><span class="w"> </span>received,<span class="w"> </span><span class="m">0</span>%<span class="w"> </span>packet<span class="w"> </span>loss,<span class="w"> </span><span class="nb">time</span><span class="w"> </span>2017ms
rtt<span class="w"> </span>min/avg/max/mdev<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.247/0.638/1.291/0.465<span class="w"> </span>ms
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># ping hadoop3</span>
PING<span class="w"> </span>hadoop3<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.4<span class="o">)</span><span class="w"> </span><span class="m">56</span><span class="o">(</span><span class="m">84</span><span class="o">)</span><span class="w"> </span>bytes<span class="w"> </span>of<span class="w"> </span>data.
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>hadoop3.bigdata<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.4<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">1</span>.47<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>hadoop3.bigdata<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.4<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.174<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>hadoop3.bigdata<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.4<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.307<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>hadoop3.bigdata<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.4<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">4</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.336<span class="w"> </span>ms
^C
---<span class="w"> </span>hadoop3<span class="w"> </span>ping<span class="w"> </span>statistics<span class="w"> </span>---
<span class="m">4</span><span class="w"> </span>packets<span class="w"> </span>transmitted,<span class="w"> </span><span class="m">4</span><span class="w"> </span>received,<span class="w"> </span><span class="m">0</span>%<span class="w"> </span>packet<span class="w"> </span>loss,<span class="w"> </span><span class="nb">time</span><span class="w"> </span>3087ms
rtt<span class="w"> </span>min/avg/max/mdev<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.174/0.572/1.472/0.523<span class="w"> </span>ms
</code></pre></div>
</li>
</ol>
<h4 id="14-ssh">1.4 节点SSH免密<a class="headerlink" href="#14-ssh" title="Permanent link">&para;</a></h4>
<blockquote>
<p>由于三个场景使用的都是Linux，所以在这部分的操作都是相同的</p>
<p>注意：在ssh连接时学校机房可能会报Permisson Denied 等等下文有列出来解决方案</p>
</blockquote>
<ol>
<li>
<p>安装<a href="#1-net-tools">ssh工具</a></p>
</li>
<li>
<p>设置root密码（PC虚拟机安装时默认用户就是root不用修改）</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>passwd<span class="w"> </span>root<span class="w"> </span>//设置root密码

//机房主机，默认时非root用户登陆
$<span class="w"> </span>su<span class="w"> </span>-<span class="w"> </span>//进入root用户
</code></pre></div>
<ol>
<li>在root用户下，进行免密配置</li>
</ol>
<p>分别在hadoop1、hadoop2、hadoop3中依次进行以下操作</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># ssh-keygen -t rsa </span>
Generating<span class="w"> </span>public/private<span class="w"> </span>rsa<span class="w"> </span>key<span class="w"> </span>pair.
Enter<span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>which<span class="w"> </span>to<span class="w"> </span>save<span class="w"> </span>the<span class="w"> </span>key<span class="w"> </span><span class="o">(</span>/root/.ssh/id_rsa<span class="o">)</span>:<span class="w"> </span>
Enter<span class="w"> </span>passphrase<span class="w"> </span><span class="o">(</span>empty<span class="w"> </span><span class="k">for</span><span class="w"> </span>no<span class="w"> </span>passphrase<span class="o">)</span>:<span class="w"> </span>
Enter<span class="w"> </span>same<span class="w"> </span>passphrase<span class="w"> </span>again:<span class="w"> </span>
Your<span class="w"> </span>identification<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>saved<span class="w"> </span><span class="k">in</span><span class="w"> </span>/root/.ssh/id_rsa.
Your<span class="w"> </span>public<span class="w"> </span>key<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>saved<span class="w"> </span><span class="k">in</span><span class="w"> </span>/root/.ssh/id_rsa.pub.
The<span class="w"> </span>key<span class="w"> </span>fingerprint<span class="w"> </span>is:
SHA256:7rTCj+LqM95Gk1nUniyf1Yy0NM1W7FAPR6slCTvDYGo<span class="w"> </span>root@hadoop1
The<span class="w"> </span>key<span class="err">&#39;</span>s<span class="w"> </span>randomart<span class="w"> </span>image<span class="w"> </span>is:
+---<span class="o">[</span>RSA<span class="w"> </span><span class="m">2048</span><span class="o">]</span>----+
<span class="p">|</span><span class="w">       </span>.<span class="w"> </span>o<span class="w"> </span>+<span class="w"> </span>++.o<span class="p">|</span>
<span class="p">|</span><span class="w">      </span>.<span class="w"> </span>+<span class="w"> </span>*<span class="w"> </span>B<span class="w"> </span>o+.<span class="p">|</span>
<span class="p">|</span><span class="w">     </span>.<span class="w"> </span>E<span class="w"> </span>+<span class="w"> </span>%<span class="w"> </span><span class="o">=</span><span class="w"> </span>o.<span class="p">|</span>
<span class="p">|</span><span class="w">      </span>+<span class="w"> </span>+<span class="w"> </span>+<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="p">|</span>
<span class="p">|</span><span class="w">     </span>+<span class="w"> </span>oSo<span class="w">   </span>.<span class="w">   </span><span class="p">|</span>
<span class="p">|</span><span class="w">    </span><span class="o">=</span><span class="w">  </span>.o<span class="w">        </span><span class="p">|</span>
<span class="p">|</span><span class="w">   </span>.<span class="w"> </span>o<span class="w">  </span>o<span class="w">        </span><span class="p">|</span>
<span class="p">|</span><span class="w">  </span>o.o<span class="w"> </span>o+<span class="w"> </span>.<span class="w">       </span><span class="p">|</span>
<span class="p">|</span><span class="w"> </span>o+*o..o+<span class="w">        </span><span class="p">|</span>
+----<span class="o">[</span>SHA256<span class="o">]</span>-----+
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@hadoop2<span class="w"> </span>~<span class="o">]</span><span class="c1"># ssh-keygen -t rsa</span>
Generating<span class="w"> </span>public/private<span class="w"> </span>rsa<span class="w"> </span>key<span class="w"> </span>pair.
Enter<span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>which<span class="w"> </span>to<span class="w"> </span>save<span class="w"> </span>the<span class="w"> </span>key<span class="w"> </span><span class="o">(</span>/root/.ssh/id_rsa<span class="o">)</span>:<span class="w"> </span>
Created<span class="w"> </span>directory<span class="w"> </span><span class="s1">&#39;/root/.ssh&#39;</span>.
Enter<span class="w"> </span>passphrase<span class="w"> </span><span class="o">(</span>empty<span class="w"> </span><span class="k">for</span><span class="w"> </span>no<span class="w"> </span>passphrase<span class="o">)</span>:<span class="w"> </span>
Enter<span class="w"> </span>same<span class="w"> </span>passphrase<span class="w"> </span>again:<span class="w"> </span>
Your<span class="w"> </span>identification<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>saved<span class="w"> </span><span class="k">in</span><span class="w"> </span>/root/.ssh/id_rsa.
Your<span class="w"> </span>public<span class="w"> </span>key<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>saved<span class="w"> </span><span class="k">in</span><span class="w"> </span>/root/.ssh/id_rsa.pub.
The<span class="w"> </span>key<span class="w"> </span>fingerprint<span class="w"> </span>is:
SHA256:C3azvXal3IjmRmD/FClkEmxzS17X8TMOCWRV/0OgvSM<span class="w"> </span>root@hadoop2
The<span class="w"> </span>key<span class="err">&#39;</span>s<span class="w"> </span>randomart<span class="w"> </span>image<span class="w"> </span>is:
+---<span class="o">[</span>RSA<span class="w"> </span><span class="m">2048</span><span class="o">]</span>----+
<span class="p">|</span><span class="w">       </span>....+.o.+.<span class="p">|</span>
<span class="p">|</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>*<span class="w"> </span><span class="o">=</span><span class="w"> </span>+<span class="w"> </span>+<span class="p">|</span>
<span class="p">|</span><span class="w">       </span>.<span class="w"> </span>O<span class="w"> </span>+<span class="w"> </span>*<span class="w"> </span>+o<span class="p">|</span>
<span class="p">|</span><span class="w">        </span>o<span class="w"> </span>+<span class="w"> </span><span class="nv">o</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>+<span class="p">|</span>
<span class="p">|</span><span class="w">      </span>o.So<span class="w"> </span>E<span class="w"> </span>+<span class="w"> </span>o.<span class="p">|</span>
<span class="p">|</span><span class="w">     </span>.<span class="w"> </span><span class="nv">o</span><span class="w"> </span><span class="o">=</span>o<span class="w"> </span>o<span class="w"> </span>o<span class="w"> </span>.<span class="p">|</span>
<span class="p">|</span><span class="w">        </span>o..<span class="o">=</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="p">|</span>
<span class="p">|</span><span class="w">          </span><span class="o">=</span>.*<span class="w"> </span>.<span class="w">  </span><span class="p">|</span>
<span class="p">|</span><span class="w">         </span><span class="o">=</span>o.<span class="w">     </span><span class="p">|</span>
+----<span class="o">[</span>SHA256<span class="o">]</span>-----+
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@hadoop3<span class="w"> </span>~<span class="o">]</span><span class="c1"># ssh-keygen -t rsa</span>
Generating<span class="w"> </span>public/private<span class="w"> </span>rsa<span class="w"> </span>key<span class="w"> </span>pair.
Enter<span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>which<span class="w"> </span>to<span class="w"> </span>save<span class="w"> </span>the<span class="w"> </span>key<span class="w"> </span><span class="o">(</span>/root/.ssh/id_rsa<span class="o">)</span>:<span class="w"> </span>
Created<span class="w"> </span>directory<span class="w"> </span><span class="s1">&#39;/root/.ssh&#39;</span>.
Enter<span class="w"> </span>passphrase<span class="w"> </span><span class="o">(</span>empty<span class="w"> </span><span class="k">for</span><span class="w"> </span>no<span class="w"> </span>passphrase<span class="o">)</span>:<span class="w"> </span>
Enter<span class="w"> </span>same<span class="w"> </span>passphrase<span class="w"> </span>again:<span class="w"> </span>
Your<span class="w"> </span>identification<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>saved<span class="w"> </span><span class="k">in</span><span class="w"> </span>/root/.ssh/id_rsa.
Your<span class="w"> </span>public<span class="w"> </span>key<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>saved<span class="w"> </span><span class="k">in</span><span class="w"> </span>/root/.ssh/id_rsa.pub.
The<span class="w"> </span>key<span class="w"> </span>fingerprint<span class="w"> </span>is:
SHA256:iswVFWqHXhN4BaIT2mMD0EwfAc8KC+hw41lVbK5sGFg<span class="w"> </span>root@hadoop3
The<span class="w"> </span>key<span class="err">&#39;</span>s<span class="w"> </span>randomart<span class="w"> </span>image<span class="w"> </span>is:
+---<span class="o">[</span>RSA<span class="w"> </span><span class="m">2048</span><span class="o">]</span>----+
<span class="p">|</span>.<span class="o">=</span>+.+.o+*+.<span class="w">      </span><span class="p">|</span>
<span class="p">|</span>.<span class="w"> </span><span class="nv">oBE</span><span class="o">=</span>.<span class="o">=</span>+.<span class="w">       </span><span class="p">|</span>
<span class="p">|</span><span class="o">=</span><span class="w"> </span>+o%<span class="w"> </span><span class="o">=</span>++<span class="w">        </span><span class="p">|</span>
<span class="p">|</span>+<span class="o">=</span>.*.*<span class="w"> </span>+..<span class="w">       </span><span class="p">|</span>
<span class="p">|</span>..+<span class="w">  </span>+o.S<span class="w">        </span><span class="p">|</span>
<span class="p">|</span><span class="w">   </span>o.o+.<span class="w">         </span><span class="p">|</span>
<span class="p">|</span><span class="w">    </span>+..<span class="w">          </span><span class="p">|</span>
<span class="p">|</span><span class="w">                 </span><span class="p">|</span>
<span class="p">|</span><span class="w">                 </span><span class="p">|</span>
+----<span class="o">[</span>SHA256<span class="o">]</span>-----+
</code></pre></div>
<p>可以看到生成的密钥已经存放在了<code>/root/.ssh</code>文件中，其中密钥是这个<code>/root/.ssh/id_rsa.</code>,公钥是这个<code>/root/.ssh/id_rsa.pub</code></p>
<p>分别在hadoop1、hadoop2、hadoop3中依次进行以下操作,使得每台主机都存有各自的公钥</p>
<div class="highlight"><pre><span></span><code>ssh-copy-id<span class="w"> </span>hadoop1
ssh-copy-id<span class="w"> </span>hadoop2
ssh-copy-id<span class="w"> </span>hadoop3
</code></pre></div>
<blockquote>
<p>注意这里本机的公钥也需要拷贝，以上命令需要在三个容器中都执行</p>
</blockquote>
<ol>
<li>测试各主机相互免密</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1"># ssh hadoop2</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># ssh hadoop2</span>
Last<span class="w"> </span>login:<span class="w"> </span>Sun<span class="w"> </span>Oct<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">19</span>:15:22<span class="w"> </span><span class="m">2023</span><span class="w"> </span>from<span class="w"> </span><span class="m">172</span>.19.0.2
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop2<span class="w"> </span>~<span class="o">]</span><span class="c1"># exit</span>
<span class="nb">logout</span>
Connection<span class="w"> </span>to<span class="w"> </span>hadoop2<span class="w"> </span>closed.
<span class="c1"># ssh hadoop3</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># ssh hadoop3</span>
Last<span class="w"> </span>login:<span class="w"> </span>Sun<span class="w"> </span>Oct<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">19</span>:15:29<span class="w"> </span><span class="m">2023</span><span class="w"> </span>from<span class="w"> </span><span class="m">172</span>.19.0.2
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop3<span class="w"> </span>~<span class="o">]</span><span class="c1"># exit</span>
<span class="nb">logout</span>
Connection<span class="w"> </span>to<span class="w"> </span>hadoop3<span class="w"> </span>closed.
</code></pre></div>
<ol>
<li>
<p>关于学校机房ssh连接问题</p>
<p>在使用学校机房在使用ssh连接时，可能会出现以下情况</p>
<div class="highlight"><pre><span></span><code>Situation1:<span class="w"> </span>Permission<span class="w"> </span>denied,<span class="w"> </span>please<span class="w"> </span>try<span class="w"> </span>again.
Situation2:<span class="w"> </span>ssh:<span class="w"> </span>connect<span class="w"> </span>to<span class="w"> </span>host<span class="w"> </span>example.com<span class="w"> </span>port<span class="w"> </span><span class="m">22</span>:<span class="w"> </span>Permission<span class="w"> </span>denied
</code></pre></div>
<p>我们需要修改一下关于<code>ssh</code>配置文件<code>/etc/ssh/sshd_config</code></p>
<div class="highlight"><pre><span></span><code># 需要注意这个配置，如果是no需要修改为yes

PermitRootLogin yes //是否允许root账户ssh登录

PubkeyAuthentication yes  &lt;==是否开启公钥验证

PasswordAuthentication yes   &lt;==是否允许密码验证
</code></pre></div>
<p>由于身边没有<code>deepin</code>的系统，但是印象中这几个配置默认时关闭的，所以会导致连接失败的问题</p>
<p>配置完成后，我们需要重新启动一下<code>ssh</code>服务后，再重新尝试即可</p>
</li>
</ol>
<h3 id="section-2">Section 2 软件安装<a class="headerlink" href="#section-2" title="Permanent link">&para;</a></h3>
<p>软件的安装就是解压缩，配置环境变量，修改软件的配置文件的过程，并且由于三个场景的安装方式都一致，如有个别不同会在安装过程中指出，大家需要额外注意安装包的版本问题，使用自己本机相应的版本，看懂过程，切勿直接CV</p>
<p>本地安装包存放在位置</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>/home/downloads
</code></pre></div>
<p>相关文稿存放在</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>/home/documents
</code></pre></div>
<p>安装包的上传方式</p>
<ul>
<li>机房主机</li>
</ul>
<p>方法1:由于机房的集群是实体机，可以使用U盘将安装包打包上传</p>
<p>方法2:通过ssh连接工具上传安装包</p>
<ul>
<li>PC虚拟机</li>
</ul>
<p>通过ssh连接工具上传安装包</p>
<ul>
<li>Docker 容器</li>
</ul>
<p>使用命令将本机的安装包上传到容器中</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>cp<span class="w"> </span>/path/to/package<span class="w"> </span>Continer_Name:/path/to/package
example:
docker<span class="w"> </span>cp<span class="w"> </span>jdk-8u381-linux-aarch64.tar.gz<span class="w"> </span>hadoop1:/home/download/
</code></pre></div>
<h4 id="21">2.1 相关工具的安装<a class="headerlink" href="#21" title="Permanent link">&para;</a></h4>
<h5 id="1-net-tools">(1) net-tools<a class="headerlink" href="#1-net-tools" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code>yum<span class="w"> </span>install<span class="w"> </span>net-tools<span class="w"> </span>-y
</code></pre></div>
<p>常用的ssh服务的命令</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Systemctl status sshd 查看ssh进程状态</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>ssh<span class="o">]</span><span class="c1"># systemctl status sshd</span>

<span class="w">  </span>●<span class="w"> </span>sshd.service<span class="w"> </span>-<span class="w"> </span>OpenSSH<span class="w"> </span>server<span class="w"> </span>daemon
<span class="w">    </span>Loaded:<span class="w"> </span>loaded<span class="w"> </span><span class="o">(</span>/usr/lib/systemd/system/sshd.service<span class="p">;</span><span class="w"> </span>enabled<span class="p">;</span><span class="w"> </span>vendor<span class="w"> </span>preset&gt;
<span class="w">    </span>Active:<span class="w"> </span>active<span class="w"> </span><span class="o">(</span>running<span class="o">)</span><span class="w"> </span>since<span class="w"> </span>Sat<span class="w"> </span><span class="m">2023</span>-10-28<span class="w"> </span><span class="m">15</span>:49:20<span class="w"> </span>CST<span class="p">;</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>days<span class="w"> </span>ago
<span class="w">      </span>Docs:<span class="w"> </span>man:sshd<span class="o">(</span><span class="m">8</span><span class="o">)</span>
<span class="w">            </span>man:sshd_config<span class="o">(</span><span class="m">5</span><span class="o">)</span>
<span class="w">  </span>Main<span class="w"> </span>PID:<span class="w"> </span><span class="m">77</span><span class="w"> </span><span class="o">(</span>sshd<span class="o">)</span>
<span class="w">      </span>Tasks:<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">(</span>limit:<span class="w"> </span><span class="m">49660</span><span class="o">)</span>
<span class="w">    </span>Memory:<span class="w"> </span><span class="m">116</span>.6M
<span class="w">    </span>CGroup:<span class="w"> </span>/system.slice/sshd.service
<span class="w">            </span>└─77<span class="w"> </span>/usr/sbin/sshd<span class="w"> </span>-D<span class="w"> </span>-oCiphers<span class="o">=</span>&lt;aes256-gcm@openssh.com&gt;,chacha20-pol&gt;

<span class="w">  </span>Oct<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">23</span>:54:58<span class="w"> </span>hadoop1<span class="w"> </span>sshd<span class="o">[</span><span class="m">8755</span><span class="o">]</span>:<span class="w"> </span>Accepted<span class="w"> </span>publickey<span class="w"> </span><span class="k">for</span><span class="w"> </span>root<span class="w"> </span>from<span class="w"> </span><span class="m">172</span>.19.0.2&gt;
<span class="w">  </span>Oct<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">23</span>:54:58<span class="w"> </span>hadoop1<span class="w"> </span>sshd<span class="o">[</span><span class="m">8755</span><span class="o">]</span>:<span class="w"> </span>pam_systemd<span class="o">(</span>sshd:session<span class="o">)</span>:<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span>create&gt;<span class="sb">`</span>

<span class="c1"># Systemctl start/restart sshd 启动sshd/重启sshd服务</span>
<span class="c1"># Systemctl stop sshd 关闭sshd服务</span>
</code></pre></div>
<h5 id="2">(2) 时间同步<a class="headerlink" href="#2" title="Permanent link">&para;</a></h5>
<p>​在 CentOS 8 中默认不再支持 ntp 软件包，时间同步将由 chrony 来实现。而我们的 CentOS 7 支持 ntp 和 chrony 两种设置时间同步方式。</p>
<ul>
<li><strong>机房主机</strong></li>
</ul>
<p><em>PS：T.T 机房的时钟好像有问题，每一次都需要手动调节</em></p>
<ul>
<li><strong>PC虚拟机（ntp）</strong></li>
</ul>
<p>时间同步：把时间跟某个服务器时间进行统一
  阿里时间同步服务器：
  ntp.aliyun.com
  ntp1.aliyun.com
  ntp2.aliyun.com</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># yum install ntp -y</span>
<span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># ntpdate ntp.aliyun.com</span>
<span class="w"> </span><span class="m">5</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">15</span>:24:49<span class="w"> </span>ntpdate<span class="o">[</span><span class="m">36743</span><span class="o">]</span>:<span class="w"> </span>step<span class="w"> </span><span class="nb">time</span><span class="w"> </span>server<span class="w"> </span><span class="m">203</span>.107.6.88<span class="w"> </span>offset<span class="w"> </span>-28800.771257<span class="w"> </span>sec
<span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># date</span>
2022年<span class="w"> </span>12月<span class="w"> </span>05日<span class="w"> </span>星期一<span class="w"> </span><span class="m">15</span>:25:10<span class="w"> </span>CST
</code></pre></div>
<ul>
<li><strong>Docker 容器（chrony）</strong></li>
</ul>
<p>从docker拉取获得的镜像，没有PC虚拟机的安装引导页面，所以默认的时区是UTC，我们可以通过这个指令<code>timedatectl</code>来查看</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@hadoop1<span class="w"> </span>/<span class="o">]</span><span class="c1"># timedatectl</span>
<span class="w">               </span>Local<span class="w"> </span>time:<span class="w"> </span>Sun<span class="w"> </span><span class="m">2023</span>-10-29<span class="w"> </span><span class="m">10</span>:35:05<span class="w"> </span>UTC
<span class="w">           </span>Universal<span class="w"> </span>time:<span class="w"> </span>Sun<span class="w"> </span><span class="m">2023</span>-10-29<span class="w"> </span><span class="m">10</span>:35:05<span class="w"> </span>UTC
<span class="w">                 </span>RTC<span class="w"> </span>time:<span class="w"> </span>Sun<span class="w"> </span><span class="m">2023</span>-10-29<span class="w"> </span><span class="m">10</span>:35:06
<span class="w">                </span>Time<span class="w"> </span>zone:<span class="w"> </span>UTC<span class="w"> </span><span class="o">(</span>UTC,<span class="w"> </span>+0000<span class="o">)</span>
System<span class="w"> </span>clock<span class="w"> </span>synchronized:<span class="w"> </span>no
<span class="w">              </span>NTP<span class="w"> </span>service:<span class="w"> </span>active
<span class="w">          </span>RTC<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nb">local</span><span class="w"> </span>TZ:<span class="w"> </span>no
</code></pre></div>
<p>(1) 修改时区</p>
<p>通过指令<code>timedatectl list-timezones</code>可以查看到<code>CentOS</code>中的相关时区</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@hadoop1<span class="w"> </span>/<span class="o">]</span><span class="c1"># timedatectl list-timezones</span>
Africa/Abidjan
Africa/Accra
Africa/Addis_Ababa
Africa/Algiers
Africa/Asmara
...
Asia/Sakhalin
Asia/Samarkand
Asia/Seoul
Asia/Shanghai
Asia/Singapore
...
</code></pre></div>
<p>可以看到有：<code>Asia/Shanghai</code>，使用<code>timedatectl set-timezone your_time_zone</code>命令进行修改，并验证，例如：</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@hadoop1<span class="w"> </span>/<span class="o">]</span><span class="c1"># timedatectl set-timezone Asia/Shanghai</span>
<span class="o">[</span>root@hadoop1<span class="w"> </span>/<span class="o">]</span><span class="c1"># timedatectl</span>
<span class="w">               </span>Local<span class="w"> </span>time:<span class="w"> </span>Sun<span class="w"> </span><span class="m">2023</span>-10-29<span class="w"> </span><span class="m">18</span>:41:43<span class="w"> </span>CST
<span class="w">           </span>Universal<span class="w"> </span>time:<span class="w"> </span>Sun<span class="w"> </span><span class="m">2023</span>-10-29<span class="w"> </span><span class="m">10</span>:41:43<span class="w"> </span>UTC
<span class="w">                 </span>RTC<span class="w"> </span>time:<span class="w"> </span>Sun<span class="w"> </span><span class="m">2023</span>-10-29<span class="w"> </span><span class="m">10</span>:41:43
<span class="w">                </span>Time<span class="w"> </span>zone:<span class="w"> </span>Asia/Shanghai<span class="w"> </span><span class="o">(</span>CST,<span class="w"> </span>+0800<span class="o">)</span>
System<span class="w"> </span>clock<span class="w"> </span>synchronized:<span class="w"> </span>no
<span class="w">              </span>NTP<span class="w"> </span>service:<span class="w"> </span>active
<span class="w">          </span>RTC<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nb">local</span><span class="w"> </span>TZ:<span class="w"> </span>no
</code></pre></div>
<p>(2) 安装时间同步工具(chrony)</p>
<div class="highlight"><pre><span></span><code>yum<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>chrony
</code></pre></div>
<p>(3) 修改配置文件</p>
<div class="highlight"><pre><span></span><code><span class="c1"># vi /etc/chrony.conf</span>
</code></pre></div>
<p><strong>hadoop1</strong>:设置hadoop1为时间同步主服务器，其余节点从hadoop1同步时间</p>
<div class="highlight"><pre><span></span><code><span class="c1">#注意这是hadoop1的配置</span>
<span class="c1"># Please consider joining the pool (http://www.pool.ntp.org/join.html).</span>
server<span class="w"> </span>ntp.aliyun.com<span class="w"> </span>iburst

<span class="c1"># Allow NTP client access from local network.</span>
allow<span class="w"> </span><span class="m">192</span>.168.0.0/16

<span class="c1"># Serve time even if not synchronized to a time source.</span>
<span class="nb">local</span><span class="w"> </span>stratum<span class="w"> </span><span class="m">10</span>
</code></pre></div>
<ul>
<li>修改第一行 xxx iburst 修改为：<code>server ntp.aliyun.com iburst</code>，取消掉图中两行注释，前者代表允许该网段从本服务器同步时间，后者代表将本服务器作为时间同步主服务器</li>
</ul>
<p>hadoop2/3:从<code>hadoop1</code>进行时间同步</p>
<div class="highlight"><pre><span></span><code><span class="c1">#这里是hadoop2/3的配置</span>
<span class="c1"># Use public servers from the pool.ntp.org project.</span>
<span class="c1"># Please consider joining the pool (http://www.pool.ntp.org/join.html).</span>
server<span class="w"> </span>hadoop1<span class="w"> </span>iburst
</code></pre></div>
<ul>
<li><code>hadoop2/3</code>仅需修改为：<code>server hadoop1 iburst</code></li>
</ul>
<p>修改完后，重启<code>chrony</code>服务</p>
<div class="highlight"><pre><span></span><code><span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>chronyd<span class="w"> </span><span class="c1">#查看服务状态</span>
<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>chronyd<span class="w"> </span><span class="c1">#启动服务</span>
<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>chronyd<span class="w"> </span><span class="c1">#将服务设置为开机启动</span>
</code></pre></div>
<p>(3) 关于chrony的相关命令</p>
<div class="highlight"><pre><span></span><code><span class="c1">#1 校准时间服务器：</span>
$<span class="w"> </span>chronyc<span class="w"> </span>tracking<span class="w"> </span>
<span class="c1">#2 查看时间同步源：</span>
$<span class="w"> </span>chronyc<span class="w"> </span>sources<span class="w"> </span>-v
<span class="c1">#3 查看时间同步源状态：</span>
$<span class="w"> </span>chronyc<span class="w"> </span>sourcestats<span class="w"> </span>-v
<span class="c1">#4 查看时间</span>
$<span class="w"> </span>date
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># date</span>
Sun<span class="w"> </span>Oct<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">19</span>:15:38<span class="w"> </span>CST<span class="w"> </span><span class="m">2023</span>
</code></pre></div>
<h4 id="22-java">2.2 Java<a class="headerlink" href="#22-java" title="Permanent link">&para;</a></h4>
<ul>
<li>解压安装包到指定目录下</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># cd /home/download/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># tar -zxvf jdk-8u381-linux-aarch64.tar.gz -C /usr/local/developers</span>
</code></pre></div>
<ul>
<li>进入安装目录下修改安装包名词(方便设置环境变量)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># cd /usr/local/developers/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># ls</span>
jdk-8u381-linux-aarch64.tar.gz
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># mv jdk-8u381-linux-aarch64.tar.gz jdk</span>
</code></pre></div>
<ul>
<li>修改环境变量(我更喜欢放在/etc/profile中)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># vi /etc/profile</span>
<span class="c1"># ----- [ Java jdk8u381 ] -----</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/local/developers/jdk
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$JAVA_HOME</span>/bin:<span class="nv">$JAVA_HOME</span>/jre/bin:<span class="nv">$PATH</span>
</code></pre></div>
<ul>
<li>环境变量生效</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># source /etc/profile</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># java -version</span>
java<span class="w"> </span>version<span class="w"> </span><span class="s2">&quot;1.8.0_381&quot;</span>
Java<span class="o">(</span>TM<span class="o">)</span><span class="w"> </span>SE<span class="w"> </span>Runtime<span class="w"> </span>Environment<span class="w"> </span><span class="o">(</span>build<span class="w"> </span><span class="m">1</span>.8.0_381-b09<span class="o">)</span>
Java<span class="w"> </span>HotSpot<span class="o">(</span>TM<span class="o">)</span><span class="w"> </span><span class="m">64</span>-Bit<span class="w"> </span>Server<span class="w"> </span>VM<span class="w"> </span><span class="o">(</span>build<span class="w"> </span><span class="m">25</span>.381-b09,<span class="w"> </span>mixed<span class="w"> </span>mode<span class="o">)</span>
</code></pre></div>
<p><strong>注意：该环境变量也需要放在<code>~/.bashrc</code>中一份，这样在后续使用<code>pycharm</code>远程用python解释器中运行才可以找到<code>JAVA_HOME</code>！！！</strong></p>
<ul>
<li>将配置好的内容分发给其余两台机器</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># cd 到developers这个目录下,发送的jdk也是在这个路径下</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># cd /usr/local/developers/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># scp -r jdk/ hadoop2:$PWD</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># scp -r jdk/ hadoop3:$PWD</span>
<span class="c1"># 分发相应的配置文件</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># scp -r /etc/profile hadoop2:/etc/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># scp -r /etc/profile hadoop3:/etc/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># scp -r ~/.bashrc hadoop2:~/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># scp -r ~/.bashrc hadoop3:~/</span>
<span class="c1"># 在hadoop2，hadoop3中分别使用source命令使两个新的配置文件生效</span>
</code></pre></div>
<h4 id="23-hadoop">2.3 Hadoop<a class="headerlink" href="#23-hadoop" title="Permanent link">&para;</a></h4>
<p>本次部署的集群规划如下：</p>
<div class="highlight"><pre><span></span><code>+--------------+---------------------+
|     Node     | Applications        |
+--------------+---------------------+
|  hadoop1     | NameNode            |
|              | DataNode            |
|              | ResourceManager     |
|              | NodeManagere        |
+--------------+---------------------+
|  hadoop2    | SecondaryNameNode   |
|              | DataNode            |
|              | NodeManager         |
+--------------+---------------------+
|  hadoop3     | DataNode            |
|              | NodeManager         |
+--------------+---------------------+
</code></pre></div>
<ol>
<li>
<p>hadoop软件安装</p>
</li>
<li>
<p>解压安装包到指定目录下</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># cd /home/download/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># tar -zxvf hadoop-3.3.4.tar.gz -C /usr/local/developers</span>
</code></pre></div>
<ul>
<li>进入安装目录下修改安装包名词(方便设置环境变量)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># cd /usr/local/developers/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># ls</span>
jdk<span class="w"> </span>hadoop-3.3.4.tar.gz
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># mv hadoop-3.3.4.tar.gz hadoop</span>
</code></pre></div>
<ul>
<li>修改环境变量</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># vi /etc/profile</span>
<span class="c1"># ----- [ Hadoop 3.3.4 ] -----</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">HADOOP_HOME</span><span class="o">=</span>/usr/local/developers/hadoop
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HADOOP_HOME</span>/bin
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HADOOP_HOME</span>/sbin
</code></pre></div>
<ul>
<li>环境变量生效</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># source /etc/profile</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># hadoop version</span>
Hadoop<span class="w"> </span><span class="m">3</span>.3.4
Source<span class="w"> </span>code<span class="w"> </span>repository<span class="w"> </span>https://github.com/apache/hadoop.git<span class="w"> </span>-r<span class="w"> </span>a585a73c3e02ac62350c136643a5e7f6095a3dbb
Compiled<span class="w"> </span>by<span class="w"> </span>stevel<span class="w"> </span>on<span class="w"> </span><span class="m">2022</span>-07-29T12:32Z
Compiled<span class="w"> </span>with<span class="w"> </span>protoc<span class="w"> </span><span class="m">3</span>.7.1
From<span class="w"> </span><span class="nb">source</span><span class="w"> </span>with<span class="w"> </span>checksum<span class="w"> </span>fb9dd8918a7b8a5b430d61af858f6ec
This<span class="w"> </span><span class="nb">command</span><span class="w"> </span>was<span class="w"> </span>run<span class="w"> </span>using<span class="w"> </span>/usr/local/developers/hadoop/share/hadoop/common/hadoop-common-3.3.4.jar
</code></pre></div>
<ol>
<li><strong>hadoop配置以及相关命令</strong></li>
</ol>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># cd /usr/local/developers/hadoop/etc/hadoop/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>hadoop<span class="o">]</span><span class="c1"># ls</span>
capacity-scheduler.xml<span class="w">    </span>kms-log4j.properties
configuration.xsl<span class="w">    </span>kms-site.xml
container-executor.cfg<span class="w">    </span>log4j.properties
core-site.xml<span class="w">     </span>mapred-env.cmd
hadoop-env.cmd<span class="w">     </span>mapred-env.sh
hadoop-env.sh<span class="w">     </span>mapred-queues.xml.template
hadoop-metrics2.properties<span class="w">   </span>mapred-site.xml
hadoop-policy.xml<span class="w">    </span>shellprofile.d
hadoop-user-functions.sh.example<span class="w">  </span>ssl-client.xml.example
hdfs-rbf-site.xml<span class="w">    </span>ssl-server.xml.example
hdfs-site.xml<span class="w">     </span>user_ec_policies.xml.template
httpfs-env.sh<span class="w">     </span>workers
httpfs-log4j.properties<span class="w">    </span>yarn-env.cmd
httpfs-site.xml<span class="w">     </span>yarn-env.sh
kms-acls.xml<span class="w">     </span>yarn-site.xml
kms-env.sh<span class="w">     </span>yarnservice-log4j.properties
</code></pre></div>
<ul>
<li>
<h3 id="hadoop-envsh">hadoop-env.sh<a class="headerlink" href="#hadoop-envsh" title="Permanent link">&para;</a></h3>
</li>
</ul>
<p>主要是配置hadoop运行的jdk环境路径</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>hadoop<span class="o">]</span><span class="c1"># vi hadoop-env.sh</span>
<span class="c1"># The java implementation to use. By default, this environment</span>
<span class="c1"># variable is REQUIRED on ALL platforms except OS X!</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/local/developers/jdk
</code></pre></div>
<ul>
<li>
<h3 id="core-sitexml">core-site.xml<a class="headerlink" href="#core-sitexml" title="Permanent link">&para;</a></h3>
</li>
</ul>
<div class="highlight"><pre><span></span><code>(base)<span class="w"> </span>[root@hadoop1<span class="w"> </span>hadoop]#<span class="w"> </span>vi<span class="w"> </span>core-site.xml
<span class="nt">&lt;configuration&gt;</span>
<span class="w">    </span><span class="cm">&lt;!-- hdfs的地址名称：schame,ip,port--&gt;</span>
<span class="w">    </span><span class="cm">&lt;!-- 在Hadoop1.x的版本中，默认使用的端口是9000。在Hadoop2.x的版本中，默认使用端口是8020 --&gt;</span>
<span class="w">    </span><span class="nt">&lt;property&gt;</span>
<span class="w">        </span><span class="nt">&lt;name&gt;</span>fs.defaultFS<span class="nt">&lt;/name&gt;</span>
<span class="w">        </span><span class="nt">&lt;value&gt;</span>hdfs://hadoop1:8020<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;/property&gt;</span>
<span class="w">    </span><span class="cm">&lt;!-- hdfs的基础路径，被其他属性所依赖的一个基础路径 --&gt;</span>
<span class="w">    </span><span class="nt">&lt;property&gt;</span>
<span class="w">        </span><span class="nt">&lt;name&gt;</span>hadoop.tmp.dir<span class="nt">&lt;/name&gt;</span>
<span class="w">        </span><span class="nt">&lt;value&gt;</span>/usr/local/developers/hadoop/tmp<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th style="text-align: center;">属性</th>
<th style="text-align: center;">属性解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">fs.defaultFS</td>
<td style="text-align: center;">HDFS对外提供服务的主机及端口号；端口也可以省略不写。</td>
</tr>
<tr>
<td style="text-align: center;">hadoop.tmp.dir</td>
<td style="text-align: center;">指定的HDFS文件存储的目录；(放在了和hadoop一个目录下的tmp中)</td>
</tr>
</tbody>
</table>
<ul>
<li>
<h3 id="hdfs-sitexml">hdfs-site.xml<a class="headerlink" href="#hdfs-sitexml" title="Permanent link">&para;</a></h3>
</li>
</ul>
<div class="highlight"><pre><span></span><code>(base)<span class="w"> </span>[root@hadoop1<span class="w"> </span>hadoop]#<span class="w"> </span>vi<span class="w"> </span>hdfs-site.xml
<span class="nt">&lt;configuration&gt;</span>
<span class="w">    </span><span class="cm">&lt;!-- hadoop块的备份数  --&gt;</span>
<span class="w">    </span><span class="nt">&lt;property&gt;</span>
<span class="w">        </span><span class="nt">&lt;name&gt;</span>dfs.replication<span class="nt">&lt;/name&gt;</span>
<span class="w">        </span><span class="nt">&lt;value&gt;</span>3<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;/property&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- namenode守护进程的http地址：主机名和端口号。参考守护进程布局--&gt;</span>
<span class="w"> </span><span class="nt">&lt;property&gt;</span>
<span class="w">     </span><span class="nt">&lt;name&gt;</span>dfs.namenode.http-address<span class="nt">&lt;/name&gt;</span>
<span class="w">     </span><span class="nt">&lt;value&gt;</span>hadoop1:50070<span class="nt">&lt;/value&gt;</span>
<span class="w"> </span><span class="nt">&lt;/property&gt;</span><span class="w">  </span>
<span class="w">    </span><span class="cm">&lt;!-- secondarynamenode http访问地址 --&gt;</span>
<span class="w">    </span><span class="nt">&lt;property&gt;</span>
<span class="w">        </span><span class="nt">&lt;name&gt;</span>dfs.namenode.secondary.http-address<span class="nt">&lt;/name&gt;</span>
<span class="w">        </span><span class="nt">&lt;value&gt;</span>hadoop2:50090<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th style="text-align: center;">属性</th>
<th style="text-align: center;">属性解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">dfs.replication</td>
<td style="text-align: center;">HDFS为了保证属性不丢失，会保存块的副本</td>
</tr>
<tr>
<td style="text-align: center;">dfs.namenode.http-address</td>
<td style="text-align: center;">webui查看时的地址端口</td>
</tr>
<tr>
<td style="text-align: center;">dfs.namenode.secondary.http-address</td>
<td style="text-align: center;">指定secondarynamenode的节点服务器位置</td>
</tr>
</tbody>
</table>
<ul>
<li>
<h3 id="mapred-sitexml">mapred-site.xml<a class="headerlink" href="#mapred-sitexml" title="Permanent link">&para;</a></h3>
</li>
</ul>
<div class="highlight"><pre><span></span><code>(base)<span class="w"> </span>[root@hadoop1<span class="w"> </span>hadoop]#<span class="w"> </span>vi<span class="w"> </span>mapred-site.xml
<span class="nt">&lt;configuration&gt;</span>
<span class="w">    </span><span class="cm">&lt;!-- 整个集群运行框架是yarn  --&gt;</span>
<span class="w">    </span><span class="nt">&lt;property&gt;</span>
<span class="w">        </span><span class="nt">&lt;name&gt;</span>mapreduce.framework.name<span class="nt">&lt;/name&gt;</span>
<span class="w">        </span><span class="nt">&lt;value&gt;</span>yarn<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div>
<ul>
<li>
<h3 id="yarn-sitexml">yarn-site.xml<a class="headerlink" href="#yarn-sitexml" title="Permanent link">&para;</a></h3>
</li>
</ul>
<div class="highlight"><pre><span></span><code>(base)<span class="w"> </span>[root@hadoop1<span class="w"> </span>hadoop]#<span class="w"> </span>vi<span class="w"> </span>yarn-site.xml
<span class="nt">&lt;configuration&gt;</span>
<span class="w">    </span><span class="cm">&lt;!-- 中间服务 shuffle  --&gt;</span>
<span class="w">    </span><span class="nt">&lt;property&gt;</span>
<span class="w">        </span><span class="nt">&lt;name&gt;</span>yarn.nodemanager.aux-services<span class="nt">&lt;/name&gt;</span>
<span class="w">        </span><span class="nt">&lt;value&gt;</span>mapreduce_shuffle<span class="nt">&lt;/value&gt;</span>
<span class="w">    </span><span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div>
<ul>
<li>
<h3 id="slaves">slaves<a class="headerlink" href="#slaves" title="Permanent link">&para;</a></h3>
</li>
</ul>
<p>slaves主要是配置集群的从节点,(注意：hadoop3.0之后更改workers文件而非slaves文件)</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>hadoop<span class="o">]</span><span class="c1"># vi slaves</span>
hadoop1
hadoop2
hadoop3<span class="w">  </span>
</code></pre></div>
<ol>
<li>分发配置文件</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1"># 返回到developers目录下,发送的hadoop也是在这个路径下</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>hadoop<span class="o">]</span><span class="c1"># cd /usr/local/deverlopers</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># scp -r hadoop/ hadoop2:$PWD</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># scp -r hadoop/ hadoop3:$PWD</span>
<span class="c1"># 分发相应的配置文件</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># scp -r /etc/profile hadoop2:/etc/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># scp -r /etc/profile hadoop3:/etc/</span>
<span class="c1"># 在hadoop2，hadoop3中分别使用source命令使两个新的配置文件生效</span>
</code></pre></div>
<ol>
<li><strong>格式化namenode</strong></li>
</ol>
<p>在hadoop1中运行</p>
<p>PS：如果格式化失败，或者已经格式化过集群需要删除上次配置的hadoop.tmp.dir属性对应位置的tmp文件夹，hadoop.tmp.dir属性值见core-site.xml文件</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># hdfs namenode -format</span>
</code></pre></div>
<p>如果出现<code>successfully</code>则格式化成功</p>
<ol>
<li><strong>启动集群</strong></li>
</ol>
<div class="highlight"><pre><span></span><code><span class="m">1</span>.<span class="w"> </span>启动脚本
<span class="w"> </span>--<span class="w"> </span>start-dfs.sh<span class="w">   </span>:用于启动hdfs集群的脚本
<span class="w"> </span>--<span class="w"> </span>start-yarn.sh<span class="w">  </span>:用于启动yarn守护进程
<span class="w"> </span>--<span class="w"> </span>start-all.sh<span class="w">   </span>:用于启动hdfs和yarn
<span class="m">2</span>.<span class="w"> </span>关闭脚本
<span class="w"> </span>--<span class="w"> </span>stop-dfs.sh<span class="w">   </span>:用于关闭hdfs集群的脚本
<span class="w"> </span>--<span class="w"> </span>stop-yarn.sh<span class="w">   </span>:用于关闭yarn守护进程
<span class="w"> </span>--<span class="w"> </span>stop-all.sh<span class="w">   </span>:用于关闭hdfs和yarn
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># start-all.sh                                ---启动hadoop所有守护进程</span>
在hadoop1：
<span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># jps</span>
<span class="m">54578</span><span class="w"> </span>DataNode
<span class="m">56274</span><span class="w"> </span>Jps
<span class="m">55315</span><span class="w"> </span>ResourceManager
<span class="m">54314</span><span class="w"> </span>NameNode
<span class="m">55471</span><span class="w"> </span>NodeManager
hadoop2：
<span class="o">[</span>root@hadoop2<span class="w"> </span>~<span class="o">]</span><span class="c1"># jps</span>
<span class="m">29076</span><span class="w"> </span>SecondaryNameNode
<span class="m">29284</span><span class="w"> </span>NodeManager
<span class="m">28842</span><span class="w"> </span>DataNode
<span class="m">30090</span><span class="w"> </span>Jps
hadoop3：
<span class="o">[</span>root@hadoop3<span class="w"> </span>~<span class="o">]</span><span class="c1"># jps</span>
<span class="m">28786</span><span class="w"> </span>DataNode
<span class="m">29154</span><span class="w"> </span>NodeManager
<span class="m">30197</span><span class="w"> </span>Jps
</code></pre></div>
<p>通过网页访问</p>
<div class="highlight"><pre><span></span><code>与hdfs-site.xml配置中这条匹配
<span class="w">  </span>&lt;!--<span class="w"> </span>namenode守护进程的http地址：主机名和端口号。参考守护进程布局--&gt;
<span class="w"> </span>&lt;property&gt;
<span class="w">     </span>&lt;name&gt;dfs.namenode.http-address&lt;/name&gt;
<span class="w">     </span>&lt;value&gt;hadoop1:50070&lt;/value&gt;
<span class="w"> </span>&lt;/property&gt;<span class="w">  </span>
<span class="w"> </span>地址为：http://hadoop1:50070
<span class="w"> </span>注意：在PC虚拟机和docker中没有映射关系，所以在访问时与机房的集群略有不同
<span class="w"> </span>PC虚拟机：与网络配置中hadoop1的IPADD一致
<span class="w"> </span>docker<span class="w"> </span>容器：doker采用的是与主机端口映射的方式，所以应该是本地地址127.0.0.1:50070
</code></pre></div>
<p><img alt="hadoop1" src="../Midea_BD/hadoop1.png" /></p>
<h4 id="24-spark">2.4 Spark<a class="headerlink" href="#24-spark" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>Spark软件安装</p>
</li>
<li>
<p>解压安装包到指定目录下</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># cd /home/download/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># tar -zxvf spark-3.2.4-bin-hadoop3.2.tgz -C /usr/local/developers</span>
</code></pre></div>
<ul>
<li>进入安装目录下修改安装包名词(方便设置环境变量)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># cd /usr/local/developers/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># ls</span>
jdk<span class="w"> </span>hadoop<span class="w">  </span>spark-3.2.4-bin-hadoop3.2.tgz
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># mv  spark-3.2.4-bin-hadoop3.2.tgz spark</span>
</code></pre></div>
<ul>
<li>修改环境变量</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># vi /etc/profile</span>
<span class="c1"># ----- [ Spark 3.2.4 ] -----</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">SPARK_HOME</span><span class="o">=</span>/usr/local/developers/spark
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$SPARK_HOME</span>/bin
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$SPARK_HOME</span>/sbin
</code></pre></div>
<ul>
<li>环境变量生效</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># source /etc/profile</span>
</code></pre></div>
<ul>
<li>进入Spark-shell</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># spark-shell</span>
Spark<span class="w"> </span>context<span class="w"> </span>Web<span class="w"> </span>UI<span class="w"> </span>available<span class="w"> </span>at<span class="w"> </span>http://2f35ec49c3c2:4040
Spark<span class="w"> </span>context<span class="w"> </span>available<span class="w"> </span>as<span class="w"> </span><span class="s1">&#39;sc&#39;</span><span class="w"> </span><span class="o">(</span><span class="nv">master</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>spark://hadoop1:7077,<span class="w"> </span>app<span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>app-20231029151801-0000<span class="o">)</span>.
Spark<span class="w"> </span>session<span class="w"> </span>available<span class="w"> </span>as<span class="w"> </span><span class="s1">&#39;spark&#39;</span>.
Welcome<span class="w"> </span>to
<span class="w">      </span>____<span class="w">              </span>__
<span class="w">     </span>/<span class="w"> </span>__/__<span class="w">  </span>___<span class="w"> </span>_____/<span class="w"> </span>/__
<span class="w">    </span>_<span class="se">\ \/</span><span class="w"> </span>_<span class="w"> </span><span class="se">\/</span><span class="w"> </span>_<span class="w"> </span><span class="sb">`</span>/<span class="w"> </span>__/<span class="w">  </span><span class="err">&#39;</span>_/
<span class="w">   </span>/___/<span class="w"> </span>.__/<span class="se">\_</span>,_/_/<span class="w"> </span>/_/<span class="se">\_\ </span><span class="w">  </span>version<span class="w"> </span><span class="m">3</span>.2.4
<span class="w">      </span>/_/

Using<span class="w"> </span>Scala<span class="w"> </span>version<span class="w"> </span><span class="m">2</span>.12.15<span class="w"> </span><span class="o">(</span>Java<span class="w"> </span>HotSpot<span class="o">(</span>TM<span class="o">)</span><span class="w"> </span><span class="m">64</span>-Bit<span class="w"> </span>Server<span class="w"> </span>VM,<span class="w"> </span>Java<span class="w"> </span><span class="m">1</span>.8.0_381<span class="o">)</span>
Type<span class="w"> </span><span class="k">in</span><span class="w"> </span>expressions<span class="w"> </span>to<span class="w"> </span>have<span class="w"> </span>them<span class="w"> </span>evaluated.
Type<span class="w"> </span>:help<span class="w"> </span><span class="k">for</span><span class="w"> </span>more<span class="w"> </span>information.

scala&gt;
</code></pre></div>
<p>spark安装成功，<code>:quit</code>退出</p>
<ol>
<li><strong>spark配置以及相关命令</strong></li>
</ol>
<p>spark的配置文件放在spark目录下的conf文件中</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># cd /usr/local/developers/spark/conf</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>conf<span class="o">]</span><span class="c1"># ls</span>
fairscheduler.xml.template<span class="w">    </span>workers.template
log4j.properties.template<span class="w">     </span>spark-env.sh.template
metrics.properties.template<span class="w">   </span>spark-defaults.conf.template
</code></pre></div>
<p>我们要修改的文件有：</p>
<ul>
<li>worker（spark2.x中是slaves）</li>
<li>spark-env.sh</li>
<li>spark-defaults.conf</li>
</ul>
<p>由于在conf目录中默认是xx.template的模板文件，所以我们需要先复制一份</p>
<ul>
<li>
<h3 id="spark-envsh">spark-env.sh<a class="headerlink" href="#spark-envsh" title="Permanent link">&para;</a></h3>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>conf<span class="o">]</span><span class="c1"># mv spark-env.sh.template spark-env.sh </span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>conf<span class="o">]</span><span class="c1"># vi spark-env.sh </span>
<span class="c1"># 在文件底部加入以下配置信息</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/local/developers/jdk
<span class="nb">export</span><span class="w"> </span><span class="nv">HADOOP_HOME</span><span class="o">=</span>/usr/local/developers/hadoop
<span class="nb">export</span><span class="w"> </span><span class="nv">HADOOP_CONF_DIR</span><span class="o">=</span>/usr/local/developers/hadoop/etc/hadoop
<span class="nb">export</span><span class="w"> </span><span class="nv">SPARK_DIST_CLASSPATH</span><span class="o">=</span><span class="k">$(</span>/usr/local/developers/hadoop/bin/hadoop<span class="w"> </span>classpath<span class="k">)</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">SPARK_MASTER_HOST</span><span class="o">=</span>hadoop1
<span class="nb">export</span><span class="w"> </span><span class="nv">SPARK_MASTER_PORT</span><span class="o">=</span><span class="m">7077</span>
</code></pre></div>
<ul>
<li>
<h3 id="spark-defaultsconf">Spark-defaults.conf<a class="headerlink" href="#spark-defaultsconf" title="Permanent link">&para;</a></h3>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>conf<span class="o">]</span><span class="c1"># mv spark-defaults.conf.template spark-defaults.conf</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>conf<span class="o">]</span><span class="c1"># vi spark-defaults.conf</span>
<span class="c1"># 将Example内容修改为</span>
<span class="c1"># Example:</span>
<span class="c1"># spark.master                     spark://master:7077</span>
<span class="c1"># spark.eventLog.enabled           true</span>
<span class="c1"># spark.eventLog.dir               hdfs://namenode:8021/directory</span>
<span class="c1"># spark.serializer                 org.apache.spark.serializer.KryoSerializer</span>
<span class="c1"># spark.driver.memory              5g</span>
<span class="c1"># spark.executor.extraJavaOptions  -XX:+PrintGCDetails -Dkey=value -Dnumbers=&quot;one two three&quot;</span>

<span class="c1"># Example:</span>
spark.master<span class="w">                     </span>spark://hadoop1:7077
spark.eventLog.enabled<span class="w">           </span><span class="nb">true</span>
spark.eventLog.dir<span class="w">               </span>hdfs://hadoop1:8020/spark_directory
spark.serializer<span class="w">                 </span>org.apache.spark.serializer.KryoSerializer
spark.driver.memory<span class="w">              </span>2g
spark.executor.memory<span class="w">            </span>2g
<span class="c1"># spark.executor.extraJavaOptions  -XX:+PrintGCDetails -Dkey=value -Dnumbers=&quot;one two three&quot;</span>
</code></pre></div>
<ul>
<li>
<h3 id="slavesworkers">slaves/workers<a class="headerlink" href="#slavesworkers" title="Permanent link">&para;</a></h3>
</li>
</ul>
<p>同理（spark3.x中不再是slaves而是workers）</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>conf<span class="o">]</span><span class="c1"># mv workers.template workers</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>conf<span class="o">]</span><span class="c1"># vi workers</span>
<span class="c1"># A Spark Worker will be started on each of the machines listed below.</span>
hadoop1
hadoop2
hadoop3
</code></pre></div>
<ol>
<li>分发spark给各个主机</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1"># 返回到developers目录下,发送的hadoop也是在这个路径下</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>hadoop<span class="o">]</span><span class="c1"># cd /usr/local/deverlopers</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># scp -r spark/ hadoop2:$PWD</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># scp -r spark/ hadoop3:$PWD</span>
<span class="c1"># 分发相应的配置文件</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># scp -r /etc/profile hadoop2:/etc/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># scp -r /etc/profile hadoop3:/etc/</span>
<span class="c1"># 在hadoop2，hadoop3中分别使用source命令使两个新的配置文件生效</span>
</code></pre></div>
<ol>
<li>启动spark</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># start-all.sh</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># jps</span>
<span class="m">432</span><span class="w"> </span>NameNode
<span class="m">645</span><span class="w"> </span>DataNode
<span class="m">5176</span><span class="w"> </span>Jps
<span class="m">1097</span><span class="w"> </span>ResourceManager
<span class="m">1756</span><span class="w"> </span>Master
<span class="m">2110</span><span class="w"> </span>Worker
<span class="m">1279</span><span class="w"> </span>NodeManager
</code></pre></div>
<p>使用浏览器监控spark的状态</p>
<ul>
<li>查看的IP与hadoop相同，但是端口号不同改为8080</li>
</ul>
<h4 id="25-hadoop-spark">2.5 关于hadoop &amp; spark 部分指令冲突的解决方案<a class="headerlink" href="#25-hadoop-spark" title="Permanent link">&para;</a></h4>
<p>当使用<code>stop-all.sh</code>想结束全部指令发现并不能把它们全部停止，当看到hadoop和spark两个的sbin时，就会发现其中有一部分指令是一样的</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># cd /usr/local/developers/hadoop/sbin/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>sbin<span class="o">]</span><span class="c1"># ls</span>
FederationStateStore<span class="w">  </span>start-all.sh<span class="w">       </span>stop-balancer.sh
distribute-exclude.sh<span class="w">  </span>start-balancer.sh<span class="w">    </span>stop-dfs.cmd
hadoop-daemon.sh<span class="w">  </span>start-dfs.cmd<span class="w">       </span>stop-dfs.sh
hadoop-daemons.sh<span class="w">  </span>start-dfs.sh<span class="w">       </span>stop-secure-dns.sh
httpfs.sh<span class="w">   </span>start-secure-dns.sh<span class="w">  </span>stop-yarn.cmd
kms.sh<span class="w">    </span>start-yarn.cmd<span class="w">       </span>stop-yarn.sh
mr-jobhistory-daemon.sh<span class="w">  </span>start-yarn.sh<span class="w">       </span>workers.sh
refresh-namenodes.sh<span class="w">  </span>stop-all.cmd<span class="w">       </span>yarn-daemon.sh
start-all.cmd<span class="w">   </span>stop-all.sh<span class="w">       </span>yarn-daemons.sh
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>sbin<span class="o">]</span><span class="c1"># cd /usr/local/developers/spark/sbin/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>sbin<span class="o">]</span><span class="c1"># ls</span>
decommission-slave.sh<span class="w">  </span>start-worker.sh
decommission-worker.sh<span class="w">  </span>start-workers.sh
slaves.sh<span class="w">   </span>stop-all.sh
spark-config.sh<span class="w">   </span>stop-history-server.sh
spark-daemon.sh<span class="w">   </span>stop-master.sh
spark-daemons.sh<span class="w">  </span>stop-mesos-dispatcher.sh
start-all.sh<span class="w">   </span>stop-mesos-shuffle-service.sh
start-history-server.sh<span class="w">  </span>stop-slave.sh
start-master.sh<span class="w">   </span>stop-slaves.sh
start-mesos-dispatcher.sh<span class="w"> </span>stop-thriftserver.sh
start-mesos-shuffle-service.sh<span class="w"> </span>stop-worker.sh
start-slave.sh<span class="w">   </span>stop-workers.sh
start-slaves.sh<span class="w">   </span>workers.sh
start-thriftserver.sh
</code></pre></div>
<p>可以看出如果同时引入了<code>hadoop</code>和<code>spark</code>两个的<code>sbin</code>后，由于两个目录中都有部分指令是相同的，例如<code>start/stop-all.sh</code>在终端执行时只会执行<code>spark</code>中的命令，为此还需要到<code>hadoop</code>所在路径下去重新执行，这样十分复杂，为此可以这样做来解决二者的冲突</p>
<ul>
<li>解决方案</li>
</ul>
<p>使用<code>alias</code>以及编写函数的方式读取终端输入的命令，分析语句内容，使用选择结构定位到相应路径</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Function to run sbin command for a specific tool</span>
run_sbin<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">full_command</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span>tool
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nb">command</span>

<span class="w">    </span><span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-r<span class="w"> </span>tool<span class="w"> </span><span class="nb">command</span><span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$full_command</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tool</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span>hadoop<span class="o">)</span>
<span class="w">            </span><span class="nv">tool_path</span><span class="o">=</span><span class="s2">&quot;/usr/local/developers/hadoop/sbin&quot;</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>spark<span class="o">)</span>
<span class="w">            </span><span class="nv">tool_path</span><span class="o">=</span><span class="s2">&quot;/usr/local/developers/spark/sbin&quot;</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">        </span>*<span class="o">)</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Unsupported tool: </span><span class="nv">$tool</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="k">return</span>
<span class="w">            </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tool_path</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$tool_path</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$command</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="s2">&quot;./</span><span class="nv">$command</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Command not found: </span><span class="nv">$command</span><span class="s2">&quot;</span>
<span class="w">        </span><span class="k">fi</span>
<span class="w">        </span><span class="nb">cd</span><span class="w"> </span>-
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;sbin directory not found for </span><span class="nv">$tool</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

<span class="c1"># Alias to run sbin command more concisely</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">sbin</span><span class="o">=</span><span class="s1">&#39;run_sbin&#39;</span><span class="w"> </span>//sbin是可以修改为任何你想起的名字
</code></pre></div>
<p>将这段代码复制到<code>~/.bashrc</code>中，<code>source ~/.bashrc</code>，这段代码的意思是，使用<code>sbin</code>代替<code>run_sbin</code>命令，可以读取命令中的关键词<code>hadoop/spark</code>执行相应路径下的指令</p>
<p><strong>举例：</strong></p>
<div class="highlight"><pre><span></span><code>---<span class="w"> </span>原先需要<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>到该目录下运行指令
<span class="o">[</span>root@hadoop1<span class="w"> </span>/<span class="o">]</span><span class="c1"># cd /path/to/hadoop/sbin</span>
<span class="o">[</span>root@hadoop1<span class="w"> </span>sbin<span class="o">]</span><span class="c1"># start-all.sh</span>
---Balabala<span class="w"> </span>ing
----
----
---<span class="w"> </span>现在可以这样
<span class="o">[</span>root@hadoop1<span class="w"> </span>/<span class="o">]</span><span class="c1"># sbin hadoop/start-all.sh(以及任何hadoop sbin中的命令)</span>
<span class="o">[</span>root@hadoop1<span class="w"> </span>/<span class="o">]</span><span class="c1"># sbin spark/start-all.sh(以及任何spark sbin中的命令)</span>
</code></pre></div>
<p>继续修改我们的<code>~/.bashrc</code>,加入一下<code>alias</code></p>
<div class="highlight"><pre><span></span><code><span class="nb">alias</span><span class="w"> </span><span class="nv">hadoop_start</span><span class="o">=</span><span class="s1">&#39;sbin hadoop/start-all.sh&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">hadoop_stop</span><span class="o">=</span><span class="s1">&#39;sbin hadoop/stop-all.sh&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">spark_start</span><span class="o">=</span><span class="s1">&#39;sbin hadoop/start-all.sh&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">spark_stop</span><span class="o">=</span><span class="s1">&#39;sbin spark/start-all.sh&#39;</span>
</code></pre></div>
<p>这样好像更简单了一下，不再需要<code>sbin hadoop/start-all.sh</code>输入这么长的命令去启动，某一个程序了，诶？说到了启动！！那能不能启动一次一劳永逸呢？？？</p>
<p>显然这个问题很好解决,只需要</p>
<div class="highlight"><pre><span></span><code><span class="nb">alias</span><span class="w"> </span>bigdata-all-stop<span class="o">=</span><span class="s1">&#39;sbin hadoop/stop-all.sh &amp;&amp; sbin spark/stop-all.sh&#39;</span>
<span class="nb">alias</span><span class="w"> </span>bigdata-all-start<span class="o">=</span><span class="s1">&#39;sbin hadoop/start-all.sh &amp;&amp; sbin spark/start-all.sh&#39;</span>
</code></pre></div>
<p>这样就可以同时启动hadoop以及spark</p>
<h4 id="26-scala">2.6 Scala<a class="headerlink" href="#26-scala" title="Permanent link">&para;</a></h4>
<ul>
<li>解压安装包到指定目录下</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># cd /home/download/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># tar -zxvf scala-2.13.12.tgz -C /usr/local/developers</span>
</code></pre></div>
<ul>
<li>进入安装目录下修改安装包名词(方便设置环境变量)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># cd /usr/local/developers/</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># ls</span>
jdk<span class="w"> </span>spark<span class="w"> </span>hadoop<span class="w"> </span>scala-2.13.12.tgz
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>developers<span class="o">]</span><span class="c1"># mv scala-2.13.12.tgz scala</span>
</code></pre></div>
<ul>
<li>修改环境变量(我更喜欢放在/etc/profile中)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># vi /etc/profile</span>
<span class="c1"># ----- [ Scala 2.13.12 ] -----</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">SCALA_HOME</span><span class="o">=</span>/usr/local/developers/scala
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$SCALA_HOME</span>/bin
</code></pre></div>
<ul>
<li>环境变量生效</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># source /etc/profile</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>~<span class="o">]</span><span class="c1"># scala -version</span>
Scala<span class="w"> </span>code<span class="w"> </span>runner<span class="w"> </span>version<span class="w"> </span><span class="m">2</span>.13.12<span class="w"> </span>--<span class="w"> </span>Copyright<span class="w"> </span><span class="m">2002</span>-2023,<span class="w"> </span>LAMP/EPFL<span class="w"> </span>and<span class="w"> </span>Lightbend,<span class="w"> </span>Inc
</code></pre></div>
<h4 id="27-anaconda">2.7 Anaconda<a class="headerlink" href="#27-anaconda" title="Permanent link">&para;</a></h4>
<p>Anaconda<strong>是一个开源的Python和R语言的发行版本，用于计算科学（数据科学、机器学习、大数据处理和预测分析）</strong>，Anaconda致力于简化软件包管理系统和部署。 Anaconda透过Conda进行软件包管理，并拥有许多适用于Windows、Linux和MacOS的数据科学软件包。</p>
<p>关于版本问题：</p>
<p>​ 已经在之前虚拟机环境中成功安装过，版本为：Anaconda3-2019.07-Linux-x86_64.sh，所以接下来用这个版本安装为例，如果是自己电脑中安装Anaconda3可以直接安装最新版</p>
<ul>
<li>Anaconda的安装</li>
</ul>
<p>使用bash命令对从官网/清华镜像网站下载的anaconda.sh文件进行自动安装</p>
<ul>
<li>清华镜像网站：<a href="https://mirrors.tuna.tsinghua.edu.cn/">https://mirrors.tuna.tsinghua.edu.cn/</a></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># bash Anaconda3-2019.07-Linux-x86_64.sh</span>
</code></pre></div>
<p>安装是引导式的（由于身边的设备都已经安装过，所以用其他图片大致代替）</p>
<p><img alt="conda1" src="../Midea_BD/anaconda_1.png" /></p>
<p>一直点回车后，直到</p>
<p><img alt="conda2" src="../Midea_BD/anaconda_2.png" /></p>
<p>输入yes后，选择anaconda安装路径，<code>/usr/local/developers/anaconda3</code></p>
<p><img alt="conda3" src="../Midea_BD/anaconda_3.png" /></p>
<p>中间也会有一个需要回复yes，这里是将环境变量加入到~/.bashrc中</p>
<p><img alt="conda4" src="../Midea_BD/anaconda_4.png" /></p>
<p>安装完毕后</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># source ~/.bashrc</span>
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># conda -V</span>
conda<span class="w"> </span><span class="m">23</span>.7.4
<span class="c1"># 这样就安装完成了</span>
</code></pre></div>
<ul>
<li>Anaconda的使用</li>
</ul>
<p>创建虚拟环境</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># conda create -n envs_name python=xx</span>
这条指令的意思是，创建了一个名为xx<span class="w"> </span>的虚拟环境，使用的python版本为xx
注意：在机房的电脑执行以下命令
<span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># conda create -n bigdata python=3.5</span>
由于对应的pyspark的原因所以选择3.5这个版本
</code></pre></div>
<p>激活虚拟机环境</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>base<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># conda activate bigdata</span>
<span class="o">(</span>bigdata<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1">#</span>
</code></pre></div>
<p>anaconda换国内源</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>bigdata<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># conda info</span>

<span class="w">     </span>active<span class="w"> </span>environment<span class="w"> </span>:<span class="w"> </span>base
<span class="w">    </span>active<span class="w"> </span>env<span class="w"> </span>location<span class="w"> </span>:<span class="w"> </span>/usr/local/developers/anaconda3
<span class="w">            </span>shell<span class="w"> </span>level<span class="w"> </span>:<span class="w"> </span><span class="m">1</span>
<span class="w">       </span>user<span class="w"> </span>config<span class="w"> </span>file<span class="w"> </span>:<span class="w"> </span>/root/.condarc
<span class="w"> </span>populated<span class="w"> </span>config<span class="w"> </span>files<span class="w"> </span>:<span class="w"> </span>/root/.condarc
<span class="w">          </span>conda<span class="w"> </span>version<span class="w"> </span>:<span class="w"> </span><span class="m">23</span>.7.4
<span class="w">    </span>conda-build<span class="w"> </span>version<span class="w"> </span>:<span class="w"> </span><span class="m">3</span>.26.1
<span class="w">         </span>python<span class="w"> </span>version<span class="w"> </span>:<span class="w"> </span><span class="m">3</span>.11.5.final.0
<span class="w">       </span>virtual<span class="w"> </span>packages<span class="w"> </span>:<span class="w"> </span><span class="nv">__archspec</span><span class="o">=</span><span class="nv">1</span><span class="o">=</span>aarch64
<span class="w">                          </span><span class="nv">__glibc</span><span class="o">=</span><span class="m">2</span>.28<span class="o">=</span><span class="m">0</span>
<span class="w">                          </span><span class="nv">__linux</span><span class="o">=</span><span class="m">6</span>.4.16<span class="o">=</span><span class="m">0</span>
<span class="w">                          </span><span class="nv">__unix</span><span class="o">=</span><span class="nv">0</span><span class="o">=</span><span class="m">0</span>
<span class="w">       </span>base<span class="w"> </span>environment<span class="w"> </span>:<span class="w"> </span>/usr/local/developers/anaconda3<span class="w">  </span><span class="o">(</span>writable<span class="o">)</span>
<span class="w">      </span>conda<span class="w"> </span>av<span class="w"> </span>data<span class="w"> </span>dir<span class="w"> </span>:<span class="w"> </span>/usr/local/developers/anaconda3/etc/conda
<span class="w">  </span>conda<span class="w"> </span>av<span class="w"> </span>metadata<span class="w"> </span>url<span class="w"> </span>:<span class="w"> </span>None
<span class="w">           </span>channel<span class="w"> </span>URLs<span class="w"> </span>:<span class="w"> </span>https://repo.anaconda.com/pkgs/main/linux-aarch64
<span class="w">                          </span>https://repo.anaconda.com/pkgs/main/noarch
<span class="w">                          </span>https://repo.anaconda.com/pkgs/r/linux-aarch64
<span class="w">                          </span>https://repo.anaconda.com/pkgs/r/noarch
<span class="w">          </span>package<span class="w"> </span>cache<span class="w"> </span>:<span class="w"> </span>/usr/local/developers/anaconda3/pkgs
<span class="w">                          </span>/root/.conda/pkgs
<span class="w">       </span>envs<span class="w"> </span>directories<span class="w"> </span>:<span class="w"> </span>/usr/local/developers/anaconda3/envs
<span class="w">                          </span>/root/.conda/envs
<span class="w">               </span>platform<span class="w"> </span>:<span class="w"> </span>linux-aarch64
<span class="w">             </span>user-agent<span class="w"> </span>:<span class="w"> </span>conda/23.7.4<span class="w"> </span>requests/2.31.0<span class="w"> </span>CPython/3.11.5<span class="w"> </span>Linux/6.4.16-linuxkit<span class="w"> </span>centos/8.4.2105<span class="w"> </span>glibc/2.28<span class="w"> </span>aau/0.4.2<span class="w"> </span>c/vQ6vDk7Vf6ppzBGgEzg8_g<span class="w"> </span>s/7BItMXsluEjGI-KApzbrqw<span class="w"> </span>e/I4ZFOBDv8HQtrRdj7HLQAw
<span class="w">                </span>UID:GID<span class="w"> </span>:<span class="w"> </span><span class="m">0</span>:0
<span class="w">             </span>netrc<span class="w"> </span>file<span class="w"> </span>:<span class="w"> </span>None
<span class="w">           </span>offline<span class="w"> </span>mode<span class="w"> </span>:<span class="w"> </span>False
</code></pre></div>
<p>可以看到使用的是默认的源，这样会导致下载包时非常慢，为此我们可以修改～/.condarc这个文件，来修改为国内源</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>bigdata<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># vi /root/.condarc</span>
<span class="c1"># 添加以下内容</span>
default_channels:
<span class="w">  </span>-<span class="w"> </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main
<span class="w">  </span>-<span class="w"> </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r
<span class="w">  </span>-<span class="w"> </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2
custom_channels:
<span class="w">  </span>conda-forge:<span class="w"> </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
<span class="w">  </span>msys2:<span class="w"> </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
<span class="w">  </span>bioconda:<span class="w"> </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
<span class="w">  </span>menpo:<span class="w"> </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
<span class="w">  </span>pytorch:<span class="w"> </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
<span class="w">  </span>pytorch-lts:<span class="w"> </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
<span class="w">  </span>simpleitk:<span class="w"> </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
</code></pre></div>
<p>在输入conda info查看，可以发现已经写换成清华的源了</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>bigdata<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># conda info</span>

<span class="w">     </span>active<span class="w"> </span>environment<span class="w"> </span>:<span class="w"> </span>base
<span class="w">    </span>active<span class="w"> </span>env<span class="w"> </span>location<span class="w"> </span>:<span class="w"> </span>/usr/local/developers/anaconda3
<span class="w">            </span>shell<span class="w"> </span>level<span class="w"> </span>:<span class="w"> </span><span class="m">1</span>
<span class="w">       </span>user<span class="w"> </span>config<span class="w"> </span>file<span class="w"> </span>:<span class="w"> </span>/root/.condarc
<span class="w"> </span>populated<span class="w"> </span>config<span class="w"> </span>files<span class="w"> </span>:<span class="w"> </span>/root/.condarc
<span class="w">          </span>conda<span class="w"> </span>version<span class="w"> </span>:<span class="w"> </span><span class="m">23</span>.7.4
<span class="w">    </span>conda-build<span class="w"> </span>version<span class="w"> </span>:<span class="w"> </span><span class="m">3</span>.26.1
<span class="w">         </span>python<span class="w"> </span>version<span class="w"> </span>:<span class="w"> </span><span class="m">3</span>.11.5.final.0
<span class="w">       </span>virtual<span class="w"> </span>packages<span class="w"> </span>:<span class="w"> </span><span class="nv">__archspec</span><span class="o">=</span><span class="nv">1</span><span class="o">=</span>aarch64
<span class="w">                          </span><span class="nv">__glibc</span><span class="o">=</span><span class="m">2</span>.28<span class="o">=</span><span class="m">0</span>
<span class="w">                          </span><span class="nv">__linux</span><span class="o">=</span><span class="m">6</span>.4.16<span class="o">=</span><span class="m">0</span>
<span class="w">                          </span><span class="nv">__unix</span><span class="o">=</span><span class="nv">0</span><span class="o">=</span><span class="m">0</span>
<span class="w">       </span>base<span class="w"> </span>environment<span class="w"> </span>:<span class="w"> </span>/usr/local/developers/anaconda3<span class="w">  </span><span class="o">(</span>writable<span class="o">)</span>
<span class="w">      </span>conda<span class="w"> </span>av<span class="w"> </span>data<span class="w"> </span>dir<span class="w"> </span>:<span class="w"> </span>/usr/local/developers/anaconda3/etc/conda
<span class="w">  </span>conda<span class="w"> </span>av<span class="w"> </span>metadata<span class="w"> </span>url<span class="w"> </span>:<span class="w"> </span>None
<span class="w">           </span>channel<span class="w"> </span>URLs<span class="w"> </span>:<span class="w"> </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/linux-aarch64
<span class="w">                          </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/noarch
<span class="w">                          </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r/linux-aarch64
<span class="w">                          </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r/noarch
<span class="w">                          </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2/linux-aarch64
<span class="w">                          </span>https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2/noarch
<span class="w">          </span>package<span class="w"> </span>cache<span class="w"> </span>:<span class="w"> </span>/usr/local/developers/anaconda3/pkgs
<span class="w">                          </span>/root/.conda/pkgs
<span class="w">       </span>envs<span class="w"> </span>directories<span class="w"> </span>:<span class="w"> </span>/usr/local/developers/anaconda3/envs
<span class="w">                          </span>/root/.conda/envs
<span class="w">               </span>platform<span class="w"> </span>:<span class="w"> </span>linux-aarch64
<span class="w">             </span>user-agent<span class="w"> </span>:<span class="w"> </span>conda/23.7.4<span class="w"> </span>requests/2.31.0<span class="w"> </span>CPython/3.11.5<span class="w"> </span>Linux/6.4.16-linuxkit<span class="w"> </span>centos/8.4.2105<span class="w"> </span>glibc/2.28<span class="w"> </span>aau/0.4.2<span class="w"> </span>c/vQ6vDk7Vf6ppzBGgEzg8_g<span class="w"> </span>s/1JzxsMfUYXiQIu-YW6Bt3w<span class="w"> </span>e/I4ZFOBDv8HQtrRdj7HLQAw
<span class="w">                </span>UID:GID<span class="w"> </span>:<span class="w"> </span><span class="m">0</span>:0
<span class="w">             </span>netrc<span class="w"> </span>file<span class="w"> </span>:<span class="w"> </span>None
<span class="w">           </span>offline<span class="w"> </span>mode<span class="w"> </span>:<span class="w"> </span>False
</code></pre></div>
<p>安装pyspark相应包</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span>bigdata<span class="o">)</span><span class="w"> </span><span class="o">[</span>root@hadoop1<span class="w"> </span>download<span class="o">]</span><span class="c1"># pip install pyspark</span>
</code></pre></div>
<p>PS：在使用pip下载时也可以使用这样的方式来提高下载速度</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 临时使用</span>
pip<span class="w"> </span>install<span class="w"> </span>xx（package-name）-i<span class="w"> </span>https://pypi.tuna.tsinghua.edu.cn/simple<span class="w"> </span>some-package
</code></pre></div>
<h2 id="part-2">Part 2 实践应用<a class="headerlink" href="#part-2" title="Permanent link">&para;</a></h2>
<h3 id="section1-pycharm">Section1 Pycharm远程连接<a class="headerlink" href="#section1-pycharm" title="Permanent link">&para;</a></h3>
<p>​如何在机房优雅从容的coding？答案是可以通过pycharm用ssh的方式在自己的电脑中编写程序在机房的电脑中运行，接下来就是介绍如何操作</p>
<ul>
<li>
<p>上学期以及安装过pycharm的专业版这里就不过多赘述（只有专业版才可以SSH连接）</p>
</li>
<li>
<p>在本机打开pycharm创建一个项目</p>
</li>
</ul>
<p><img alt="" src="../Midea_BD/pycharm_1.jpg" /></p>
<p>选择<code>Previously configured interpreter</code>，点击旁边<code>...</code></p>
<p><img alt="" src="../Midea_BD/pycharm_2.jpg" /></p>
<p>在左边选择<code>SSH Interpreter</code>，<code>New server configuration</code></p>
<div class="highlight"><pre><span></span><code><span class="c1">#host : IP地址</span>
学校机房：10.10.98.xxx<span class="w">   </span>端口号默认22
docker：127.0.0.1<span class="w">      </span>端口号：2201
虚拟机：<span class="w"> </span><span class="m">192</span>.168.xx.xx<span class="w">   </span>端口号默认22
<span class="c1"># Usrname ： root</span>
</code></pre></div>
<p><img alt="" src="../Midea_BD/pycharm_3.jpg" /></p>
<p>选择创建的虚拟环境的<code>python</code>，路径<code>/usr/local/developers/anaconda3/envs/bigdata/bin/python3.5</code></p>
<p><img alt="" src="../Midea_BD/pycharm_4.jpg" /></p>
<p><img alt="" src="../Midea_BD/pycharm_5.jpg" /></p>
<p>​<code>Remote project localtion</code>：就是映射在虚拟机的文件位置，点击<code>Create</code>创建项目，运行<code>main.py</code></p>
<p><img alt="" src="../Midea_BD/pycharm_6.png" /></p>
<p>说明配置完成</p>
<h3 id="section2-spark1">Section2 Spark案例1 词频统计<a class="headerlink" href="#section2-spark1" title="Permanent link">&para;</a></h3>
<ol>
<li>将待处理文件<code>words</code>上传到<code>hdfs</code>，命令如下</li>
</ol>
<div class="highlight"><pre><span></span><code># words.txt
 css windows macos programming windows
 windows programming python python java
 javascript csharp programming hardware algorithm
 java linux java java csharp
 database hardware programming javascript database
 csharp macos html software software
 java java java linux html
 javascript macos database computer database
 css database database computer python
 programming algorithm css linux python
 database linux hardware computer windows
 macos computer python python java
 css algorithm javascript software hardware
</code></pre></div>
<p><code>bash
   hadoop fs -put /local/path/to/file /hdfs/path
   [root@hadoop1 download]# hadoop fs -ls words.txt /spark_repository/input_resource/words.txt
   (base) [root@hadoop1 ssh]# hadoop fs -ls -R /spark_repository
    2023-10-31 13:05:05,660 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
    drwxr-xr-x   - root supergroup          0 2023-10-26 19:03 /spark_repository/input_resource
    -rw-r--r--   3 root supergroup    1048612 2023-10-26 19:03 /spark_repository/input_resource/words.txt</code></p>
<p>可以看到文件已经上传到<code>hdfs</code>中,打开<code>pycharm</code>开始编程</p>
<ol>
<li>rdd编程</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">pyspark</span><span class="w"> </span><span class="kn">import</span> <span class="n">SparkContext</span><span class="p">,</span><span class="n">SparkConf</span>

 <span class="k">if</span> <span class="o">**</span><span class="n">name</span><span class="o">**</span> <span class="o">==</span> <span class="s1">&#39;**main**&#39;</span><span class="p">:</span>
 <span class="n">conf</span> <span class="o">=</span> <span class="n">SparkConf</span><span class="p">()</span><span class="o">.</span><span class="n">setMaster</span><span class="p">(</span><span class="s2">&quot;local[*]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setAppName</span><span class="p">(</span><span class="s2">&quot;WordCount&quot;</span><span class="p">)</span>

 <span class="n">sc</span> <span class="o">=</span> <span class="n">SparkContext</span><span class="p">(</span><span class="n">conf</span><span class="o">=</span><span class="n">conf</span><span class="p">)</span>

 <span class="n">file_rdd</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">textFile</span><span class="p">(</span><span class="s2">&quot;hdfs://hadoop1:8020/spark_repository/input_resource/words.txt&quot;</span><span class="p">)</span>

 <span class="n">words_rdd</span> <span class="o">=</span> <span class="n">file_rdd</span><span class="o">.</span><span class="n">flatMap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">line</span><span class="p">:</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">))</span>

 <span class="n">words_with_one_rdd</span> <span class="o">=</span> <span class="n">words_rdd</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

 <span class="n">result_rdd</span> <span class="o">=</span> <span class="n">words_with_one_rdd</span><span class="o">.</span><span class="n">reduceByKey</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">:</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span>

 <span class="nb">print</span><span class="p">(</span><span class="n">result_rdd</span><span class="o">.</span><span class="n">collect</span><span class="p">())</span>
</code></pre></div>
<ol>
<li>同步文件,将文件远程映射到<code>linux</code>主机中</li>
</ol>
<p><img alt="Pic_40" src="../Midea_BD/pycharm_7.png" /></p>
<ol>
<li>运行程序并查看结果</li>
</ol>
<div class="highlight"><pre><span></span><code>   <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">developers</span><span class="o">/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">bigdata</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">python3</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="mi">23</span><span class="n">fall_bigdata</span><span class="o">/</span><span class="n">Case1_WordCount</span><span class="o">/</span><span class="n">WordCounts</span><span class="o">.</span><span class="n">py</span>

 <span class="n">Setting</span> <span class="n">default</span> <span class="n">log</span> <span class="n">level</span> <span class="n">to</span> <span class="s2">&quot;WARN&quot;</span><span class="o">.</span>
 <span class="n">To</span> <span class="n">adjust</span> <span class="n">logging</span> <span class="n">level</span> <span class="n">use</span> <span class="n">sc</span><span class="o">.</span><span class="n">setLogLevel</span><span class="p">(</span><span class="n">newLevel</span><span class="p">)</span><span class="o">.</span> <span class="n">For</span> <span class="n">SparkR</span><span class="p">,</span> <span class="n">use</span> <span class="n">setLogLevel</span><span class="p">(</span><span class="n">newLevel</span><span class="p">)</span><span class="o">.</span>
 <span class="mi">23</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="mi">31</span> <span class="mi">13</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">48</span> <span class="n">WARN</span> <span class="n">NativeCodeLoader</span><span class="p">:</span> <span class="n">Unable</span> <span class="n">to</span> <span class="n">load</span> <span class="n">native</span><span class="o">-</span><span class="n">hadoop</span> <span class="n">library</span> <span class="k">for</span> <span class="n">your</span> <span class="n">platform</span><span class="o">...</span> <span class="n">using</span> <span class="n">builtin</span><span class="o">-</span><span class="n">java</span> <span class="n">classes</span> <span class="n">where</span> <span class="n">applicable</span>
 <span class="p">[(</span><span class="s1">&#39;html&#39;</span><span class="p">,</span> <span class="mi">9135</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">,</span> <span class="mi">9074</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;csharp&#39;</span><span class="p">,</span> <span class="mi">8976</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;hardware&#39;</span><span class="p">,</span> <span class="mi">8894</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;algorithm&#39;</span><span class="p">,</span> <span class="mi">9073</span><span class="p">)]</span>
 <span class="p">[(</span><span class="s1">&#39;programming&#39;</span><span class="p">,</span> <span class="mi">8983</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="mi">8976</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;java&#39;</span><span class="p">,</span> <span class="mi">8780</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;database&#39;</span><span class="p">,</span> <span class="mi">8918</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;macos&#39;</span><span class="p">,</span> <span class="mi">9137</span><span class="p">)]</span>
 <span class="p">[(</span><span class="s1">&#39;windows&#39;</span><span class="p">,</span> <span class="mi">8975</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;computer&#39;</span><span class="p">,</span> <span class="mi">8967</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;software&#39;</span><span class="p">,</span> <span class="mi">8807</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;linux&#39;</span><span class="p">,</span> <span class="mi">8939</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;javascript&#39;</span><span class="p">,</span> <span class="mi">8911</span><span class="p">)]</span>

 <span class="n">Process</span> <span class="n">finished</span> <span class="k">with</span> <span class="n">exit</span> <span class="n">code</span> <span class="mi">0</span>
</code></pre></div>
<p><code>/usr/local/developers/anaconda3/envs/bigdata/bin/python3</code> 可以看到使用的解释器时Linux主机中的python</p>
<p><code>/home/Documents/23fall_bigdata/Case1_WordCount/WordCounts.py</code>执行的文件也是在Linux中的文件</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      DDWe11 Pages © 2023 by Duan is licensed under CC BY 4.0
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://space.bilibili.com/478619269" target="_blank" rel="noopener" title="Bilibili | DDWe11" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79 0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0q13.2 0 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0q13.2 0 21.9 8.603c5.7 5.737 8.6 12.997 8.6 21.797 0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1m-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8s9.7-14.3 10.1-23.5zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5s-17.5-3.2-23.6-9.5-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2s13.2-9.6 23.3-10c9.2.4 17 3.7 23.3 10m191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2s-14 9.5-23.6 9.5-17.4-3.2-23.6-9.5c-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2s14.1-9.6 23.3-10c9.2.4 17 3.7 23.3 10"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/DDWe11" target="_blank" rel="noopener" title="GitHub | DDWe11" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:<Duanjw2002@163.com>" target="_blank" rel="noopener" title="Mail to author" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.8l167.6-182.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.top", "navigation.indexes", "navigation.expand", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../../../mkdocs/javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>